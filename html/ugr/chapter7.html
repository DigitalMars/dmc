
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>

<!--
	Copyright (c) 2001-2006 by Digital Mars
	All Rights Reserved
	www.digitalmars.com
  -->

<head>
<META http-equiv="content-type" content="text/html; charset=utf-8" >
<title>Digital Mars - Adding Look and Feel with Resources
</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
<div id="heading">
<a href="http://www.digitalmars.com/"><IMG SRC="dmlogo.gif" BORDER=0 WIDTH=270 HEIGHT=53 ALT="www.digitalmars.com"></a>

<a href="http://www.digitalmars.com/" title="www.digitalmars.com">Home</a>
| <a href="../advancedsearch.html" title="Search Digital Mars web site">Search</a>
| <a href="../ctg/ctg.html" title="Compiler & Tools Guide">CTG</a>
| <a href="../rtl/rtl.html" title="Runtime Library Reference">RTL</a>
| <a href="../ugr/ugr.html" title="IDDE Reference">IDDE</a>
| <a href="../stl/index.html" title="Standard Template Library">STL</a>

	<div id="lastupdate">Last update Fri Apr 28 16:30:16 2006
</div>
</div>

<!-- Generated by Ddoc from chapter7.d -->





<table border=1 cellpadding=8 cellspacing=0 frame="void" summary="this table is for layout only">
<tr>
<td valign="top" class="toc">
<small>
<center>
<form method="get" action="http://www.google.com/search">
<input id="q" name="q" size="10" value="IDDE Search" onFocus='if(this.value == "IDDE Search"){this.value="";}'>
<input type="hidden" id="domains" name="domains" value="www.digitalmars.com">
<input type="hidden" id="sitesearch" name="sitesearch" value="www.digitalmars.com/ugr">
<input type="hidden" id="sourceid" name="sourceid" value="google-search">
<input type="submit" id="submit" name="submit" value="Go">
</form>

    <a href="ugr.html"><b>IDDE<br>Reference</b></a><br><br>
</center>

<b>Part 1: Welcome to Digital Mars C++</b><br>
    1. <a href="chapter1.html">Introducing Digital Mars C++</a></br>
    2. <a href="chapter2.html">Introducing the IDDE</a></br>
<hr>
<b>Part 2: Creating an Application with Digital Mars C++</b><br>
    3. <a href="chapter3.html">Starting a Project and Defining Workspaces</a></br>
    4. <a href="chapter4.html">Generating an Application Framework</a></br>
    5. <a href="chapter5.html">Defining Classes and Their Hierarchies</a></br>
    6. <a href="chapter6.html">Editing Program Code</a></br>
    7. <a href="chapter7.html">Adding Look and Feel with Resources</a></br>
    8. <a href="chapter8.html">Testing an Application</a></br>
<hr>
<b>Part 3: Learning Digital Mars C++ by Example</b><br>
    9. <a href="chapter9.html">Introduction to the Tutorial</a></br>
    10. <a href="chapter10.html">Lesson 1: Create the DOS Application</a></br>
    11. <a href="chapter11.html">Lesson 2: Generate an Application Framework</a></br>
    12. <a href="chapter12.html">Lesson 3: Customize the Interface</a></br>
    13. <a href="chapter13.html">Lesson 4: Add Messages with ClassExpress</a></br>
    14. <a href="chapter14.html">Lesson 5: Add a Dialog Box with ClassExpress</a></br>
<hr>
<b>Part 4: More about Creating Programs</b><br>
    15. <a href="chapter15.html">More about Projects and Workspaces</a></br>
    16. <a href="chapter16.html">More about Project Build Settings</a></br>
    17. <a href="chapter17.html">More about AppExpress</a></br>
    18. <a href="chapter18.html">More about ClassExpress</a></br>
    19. <a href="chapter19.html">Class Editor Reference</a></br>
    20. <a href="chapter20.html">Hierarchy Editor Reference</a></br>
    21. <a href="chapter21.html">Text Editor Reference</a></br>
    22. <a href="chapter22.html">Using Version Control</a></br>
<hr>
<b>Part 5: More about Testing Programs</b><br>
    23. <a href="chapter23.html">Controlling and Configuring the Debugger</a></br>
    24. <a href="chapter24.html">Commands Available in Debugging Mode</a></br>
<hr>
<b>Part 6: About Managing Resources</b><br>
    25. <a href="chapter25.html">ResourceStudio Resource Editor</a></br>
    26. <a href="chapter26.html">Dialog Editor</a></br>
    27. <a href="chapter27.html">Menu, Accelerator and String Table Editors</a></br>
    28. <a href="chapter28.html">Bitmap, Cursor, Icon, and Font Editors</a></br>
    29. <a href="chapter29.html">Version Information and Custom Resource Editors</a></br>
<hr>
<b>Part 7: Appendixes</b><br>
    A. <a href="appendixa.html">Expression Evaluation</a></br>
    B. <a href="appendixb.html">IDDE Settings and Command-Line Options</a></br>
    C. <a href="appendixc.html">Using NetBuild</a></br>

</small>

<hr>


</td>
<td valign="top">


<h1>7. Adding Look and Feel with Resources</h1>

Any application written for the Windows environment needs an 
interface to the user that gives it the "look and feel" of a Windows 
application. Various standard mechanisms are available to create this 
look and feel, and resources are some of the most important of 
these. Resources such as menus and dialog boxes define the 
interface to an application. 
<p>

ResourceStudio contains tools for creating and modifying the 
resources. This chapter defines the different types of 
resources and explains how to use ResourceStudio to create three 
basic resources: menus, dialog boxes, and bitmaps. The final 
section describes how to work with the identifiers by which 
resources are referenced in the source code. 
<p>


For more information about ResourceStudio, see
<a href="chapter25.html">ResourceStudio Resource Editor</a>.
For more information on resources and programming 
with resources, refer to the following texts: 

<ul>
<li> Programming Windows 3.1 by Charles Petzold 

<li> Microsoft Windows Programmer's Reference, Volume 4: Resources 
</ul>


<h2>What Are Resources?</h2>

Resources are structured data objects that define Windows user 
interface elements. When you choose a command from a menu or 
select options from a dialog box, for example, you are interacting 
with an application's resources. Predefined resource types include 
bitmaps, cursors, icons, fonts, dialog boxes, menus, accelerators, 
strings, and version information. 
<p>

An application's resources typically are defined in a resource script 
file (.rc). Each resource definition contains information and data 
relevant to that resource type, as well as the identifier by which the 
resource is referenced in the source code. Resource script files are 
created and edited with ResourceStudio. 
<p>


Resources are compiled by a special resource compiler and are 
linked to the Windows application separately from the application 
code. This modular design enables you to modify the appearance of 
an application without changing, or even accessing, the program 
source code. Separating resources from code also makes it easier to 
use the same resource definitions for multiple applications. 


<h2>Resource Types</h2>

Create and edit the following resource types in ResourceStudio: 

<h4>Bitmaps</h4>

Bitmaps are used by an application to display pictures on the screen. 
Each bit, or group of bits, in a bitmap represents one pixel of the 
image. Bitmaps may be any size you specify. 


<h4>Cursors</h4>

Cursors are small bitmaps, usually 32 x 32 pixels in size, that 
represent the mouse pointer. Cursor images may contain areas that 
are transparent, allowing the screen background to show through 
unused parts of the cursor image. Cursors also may contain inverted 
areas in which the screen background color is reversed. 
<p>

In addition to image information, a cursor resource also specifies the 
cursor's hot spot, the exact pixel in the image that maps to the 
mouse pointer's screen location. 


<h4>Icons</h4>

Icons are small bitmaps, usually 32 x 32 or 16 x 32 pixels in size, that 
represent applications or actions within an application. For example, 
when you minimize a Windows application, an icon is displayed on 
the screen to represent the minimized program. Like cursors, icons 
may contain transparent and inverted areas. 


<h4>Fonts</h4>

A font resource is a collection of up to 256 bitmaps of identical 
height. A font typically represents a character set, but it also may be 
used for more efficient management of bitmaps not representing 
characters. 


<h4>Dialog boxes</h4>

Dialog boxes are windows that communicate information and 
receive user input. For example, a dialog box may let the user set 
program options, or alert the user to an error and ask how to 
proceed. To enter information and make selections in a dialog box, a 
user manipulates graphical elements called controls. Commonly used 
controls include buttons, check boxes, listboxes, textboxes, and 
scroll bars. 
<p>

A dialog box resource is a complex set of data describing each 
control in detail, as well as general properties such as the dialog box 
size and location. 


<h4>Menus</h4>

Menus are hierarchical lists of program commands and options. 
When a user chooses an item from a menu, either an action is taken 
or another menu opens to provide additional commands. A menu 
resource identifies the available commands, specifies their individual 
styles and attributes, and determines the order in which they appear. 


<h4>Accelerators</h4>

Accelerators are key combinations a user presses to perform a task in 
an application and are frequently used as shortcuts to menu choices. 
An accelerator resource contains a collection of key combinations 
and associated commands. 


<h4>Strings</h4>

Strings are text that an application may use in window titles, menus, 
dialog boxes, error messages, and so on. A string resource is a table 
of strings. 


<h4>Version information</h4>

The Version Information resource contains version information for 
Windows .exe and .dll files, such as version number, file 
description, company name, and copyrights. 


<h4>User-defined resources</h4>

User-defined resources contain data that you define and use in your 
program in any manner you choose. For example, you may want to 
attach a table of data or a block of text to your executable file. 
ResourceStudio allows you to include these types of data in your 
application's resources and to edit the data in hexadecimal format. 


<h2>Using ResourceStudio</h2>

ResourceStudio can be used to: 

<ul>
<li> Create new resources in script or binary form 

<li> Edit resources, even those already linked to an 
executable or DLL 

<li> Copy resources between files 
</ul>


This section explains how to start ResourceStudio and use it to create 
resource files. Detailed steps are provided for creating three basic 
resources: menus, dialog boxes, and bitmaps. This section also 
outlines several useful features of ResourceStudio, such as drag and 
drop. 


<h3>Starting ResourceStudio</h3>

Start ResourceStudio using any one of several commands 
available in the IDDE's <b>Resource</b> menu: 

<dl>
<dt> <b>Edit</b>
<dd>opens the current project's resource (.rc) file for 
editing. 

<dt> <b>New</b>
<dd>opens the current project's resource file. A dialog 
box then opens, allowing you to create a new resource. 

<dt> <b>Open</b>
<dd>opens a dialog box from which you can select for 
editing any file that contains resources. 

<dt> <b>Settings</b>
<dd>opens ResourceStudio to the <b>Settings</b> dialog 
box, but does not load any resource file. 
</dl>

You can also double-click on a resource file in the Project window 
to open that file for editing with ResourceStudio. 
<p>

To create a new resource file, choose <b>Open</b> from the <b>Resource</b> 
menu, and in the <b>File Open</b> dialog box click Cancel. Then, double-click 
on the ResourceStudio icon on the desktop. The Resource 
Studio Shell window opens (Figure 7-1). 

	<p>
	<center>
	<img align="middle" src="figure7_1.gif">
	<p>
	[Figure 7-1 Resource Studio Shell window]
	</center>
	<p>

The Shell window is ResourceStudio's main window and contains 
the main menu and toolbar. From this window, you can create and 
open resource files and set ResourceStudio preferences. 
<p>


Another window that will open as you work is the Property Sheet. 
The Property Sheet does not open immediately, but rather opens 
when it is first needed. While creating and editing resources, you can 
use the Property Sheet to view and edit properties of the currently 
selected object. (In this context, "object" refers to either a resource as 
a whole or to an element within a resource, such as a dialog box 
control or a menu item.) Some types of objects have multiple pages 
of properties; to switch between pages, simply click on the tabs. 


<h3>Creating a new resource file</h3>

Resources are contained in resource files. Use 
ResourceStudio to create and edit most types of files that store 
Windows resources. For example, you can edit the resources of 
executable files even if you do not have the original source code. 
<p>


To create a new resource file, choose <b>New</b> from the <b>File</b> menu. The 
<b>New File</b> dialog box opens (Figure 7-2), listing the types of resource 
files that can be created with ResourceStudio. 

	<p>
	<center>
	<img align="middle" src="figure7_2.gif">
	<p>
	[Figure 7-2 New File dialog box]
	</center>
	<p>

Select the type of resource file you want to create (see Table 7-1). 
Note that resource script (.rc) and binary resource (.res) files 
usually contain more than one resource. If you are starting to create 
resources for a new application, .rc is likely to be your choice of 
file type. Resource scripts can contain any type of resource. 

<pre>
Table 7-1 Resource file types 

<b>File Type		Contains</b> 
Resource script (.rc)	Any type or combination of resources in 
			text format 
Binary resource (.res)	Any type or combination of resources in 
			binary format 
Icon (.ico)		A single icon resource in binary format 
Cursor (.cur)		A single cursor resource in binary format 
Bitmap (.bmp)		A single bitmap resource in binary format 
Font (.fnt)		A single font resource in binary format 
</pre>

Resources such as icons can be contained either in individual icon 
resource files (.ico) or with other resources in a resource script file. 
Some resources, such as dialog boxes and menus, are contained 
only in .rc or .res files. Thus, these resource options do not 
appear separately in the <b>New File</b> dialog box. 
<p>


The Platform option in the <b>New File</b> dialog box lets you create 
resource files that are compatible with Windows 3.1, Windows NT, 
or Windows 95. You can also elect to create resources for an MFC 
application by checking Support MFC. 
<p>

<b>Warning:</b> If dialog boxes for NT come out with a white background,
select Windows 95 as the target platform. This is because the
Windows NT target is for NT 3.51, an old version.
<p>

After selecting a type of resource file, click OK. The window that 
opens next depends on the type of file you specified. If you selected 
one of the file types containing a single resource (icon, cursor, 
bitmap, or font), that resource type's editor opens in a separate 
window. 
<p>


If you selected Resource Script or Binary Resource, the Browser 
window opens (Figure 7-3). 

	<p>
	<center>
	<img align="middle" src="figure7_3.gif">
	<p>
	[Figure 7-3 Browser window]
	</center>
	<p>

The Browser window has three main areas: 

<dl>
<dt> Resource Types:
<dd>A listbox containing all the resource 
types found in the current file. 

<dt> Resources:
<dd>A listbox containing resources of the currently 
selected type. 

<dt> Preview/Edit:
<dd>A display of the selected resource. 
Resources also are opened for editing in this area when 
created, or by choosing <b>Edit Resource</b> from the <b>File</b> 
menu. 
</dl>

When a new resource file is first opened, the Resource Types and 
Resources listboxes are both empty. 
<p>

<b>Note:</b> 
ResourceStudio has several subprograms, each of 
which is used to edit a particular resource type. In 
this chapter, for example, you will use the Menu 
editor, Dialog box editor, and Bitmap editor. Each 
individual resource editor can either be opened in a 
separate window or can use the right pane of the 
Browser window from which it is launched. The 
latter is the default behavior in most circumstances. 


<h3>Editing a resource file</h3>

Besides the resource files listed in the previous section, you can edit 
the resources of executable files, even though you don't have the 
original source code. By choosing <b>Open</b> from the Shell window's 
<b>File</b> menu, you can open files of any type listed in Table 7-1, plus 
files of the following types: 

<ul>
<li> Windows executable (.exe): Bound resources of any type 

<li> Dynamic-link library (.dll): Bound resources of any type 
</ul>


<b>Warning:</b> Do not modify or save the resources of a running 
application. Saving a resource usually changes the 
locations of the resources within the file. 


<h3>Creating a new menu resource</h3>

The main interface between the user and a Windows application is 
generally the application's menu. The IDDE's <b>Resource</b> menu is a 
good example, as shown in Figure 7-4. 

	<p>
	<center>
	<img align="middle" src="figure7_4.gif">
	<p>
	[Figure 7-4 A typical menu]
	</center>
	<p>

A menu is a hierarchical structure containing pop-up items, menu 
items, and separators. 

<ul>
<li> Pop-up items open a drop-down menu box containing 
menu items and additional pop-ups. The top-level items 
that are displayed on the window's menu bar are usually 
pop-up items. A pop-up item can be thought of as a 
container for other items (including other pop-ups). 

<li> Menu items usually constitute the majority of items in 
drop-down menus. When a menu item is chosen, 
Windows sends a message containing the item's 
command identifier to the application. 

<li> Separators are lines that divide the menu into logical 
groups. 
</ul>

To create a new menu resource, choose <b>New Menu</b> from the 
<b>Resource</b> menu of the Browser window. The Menu editor opens in 
the right pane of the Browser window (Figure 7-5). 

	<p>
	<center>
	<img align="middle" src="figure7_5.gif">
	<p>
	[Figure 7-5 Menu editor open in Browser window]
	</center>
	<p>

<b>Note:</b> 
While a resource editor is open in the Browser 
window, the Browser window's menu is replaced 
by that of the particular resource editor. The editor's 
toolbar is displayed at the top of the right pane, 
below the Browser window's toolbar. 
<p>


The new menu resource initially contains a single pop-up item and a 
menu item. The list of items is indented to show the hierarchy. Pop-up 
items are labeled POPUP, menu items are labeled MENUITEM, 
and separators are labeled SEPARATOR. The currently selected item 
is enclosed in a box; to select any item, click on it. The Property 
Sheet shows properties of the selected item. 
<p>


The Test menu window (Figure 7-6) opens at the same time. You 
can test the menu in progress at any time in this window. 

	<p>
	<center>
	<img align="middle" src="figure7_6.gif">
	<p>
	[Figure 7-6 Test menu window]
	</center>


<h4>Adding a pop-up item</h4>

Start creating a menu by adding a new pop-up item to the 
menu bar. To do so, click on Menu at the head of the item list. Then 
choose <b>New Popup</b> from the <b>Menu</b> menu. The new pop-up item is 
inserted at the start of the list. 
<p>

The Property Sheet displays the properties of the new pop-up item 
(Figure 7-7). At this point, you probably want to change only the 
menu name, which is contained in the Text field. 

	<p>
	<center>
	<img align="middle" src="figure7_7.gif">
	<p>
	[Figure 7-7 Properties of a Pop-up menu]
	</center>
	<p>

When changing the menu name, you can also assign an activation 
key to the menu. Put an ampersand (&amp;) in front of the corresponding 
letter in the text. 


<h4>Adding a menu item</h4>

To add one or more menu items to a drop-down menu, first make 
sure that the pop-up item is selected. Then choose <b>New Item</b> from 
the <b>Menu</b> menu. The new menu item is inserted into the hierarchy. 
<p>


The Property Sheet displays the properties of the new menu item 
(Figure 7-8). You can change the item's text and add an activation 
key. As with pop-up items, you add an activation key by typing an 
ampersand (&amp;) in front of the corresponding letter in the text. 

	<p>
	<center>
	<img align="middle" src="figure7_8.gif">
	<p>
	[Figure 7-8 Properties of a menu Item]
	</center>
	<p>


The ID field contains the command ID, which is sent to the 
application when the user chooses this menu item. New command 
and resource IDs are assigned automatically to new objects when 
they are created; you can also change ID names and numerical 
values as desired. For more information on resource IDs, see the 
section "Managing Resource IDs" later in this chapter. 


<h4>Adding separators</h4>

Separators enhance the readability of menus. To insert a separator 
after the currently selected item, choose <b>New Separator</b> from the 
<b>Menu</b> menu. 


<h4>Editing menus</h4>

The normal editing operations (cut, copy, paste, and delete) work 
with items in a menu. Note that when you perform one of these 
operations on a pop-up item, all of the items it contains are affected 
as well. 
<p>


Rearrange menu items quickly by clicking and dragging. To 
move an item, drag the item to the location where it should be 
inserted. If you hold down the Control key while dragging, a copy of 
the selected item is inserted. The copy is given a new, unique 
resource ID. 
<p>


You can also rearrange menus with the arrow keys. To move an item 
up or down within its present level in the hierarchy, press Ctrl+Up 
Arrow or Ctrl+Down Arrow. To move an item horizontally, use 
Ctrl+Right Arrow or the Ctrl+Left Arrow. 


<h4>Closing the menu editor</h4>

After you have arranged your new menu, close the Menu editor by 
choosing <b>Close Editing</b> from the <b>File</b> menu. The Browser window 
is updated to show the new resource (Figure 7-9). 

	<p>
	<center>
	<img align="middle" src="figure7_9.gif">
	<p>
	[Figure 7-9 Browser window after creating menu resource]
	</center>
	<p>

The Resource Types list contains an entry called Menu to show that 
you have at least one menu resource. The Resources list contains the 
ID of your menu resource. The Preview/ Edit area shows a preview 
of the new menu. 
<p>


The Property Sheet displays the menu resource's ID and memory 
options (Figure 7-10). 

	<p>
	<center>
	<img align="middle" src="figure7_10.gif">
	<p>
	[Figure 7-10 Properties of a menu resource]
	</center>
	<p>

To edit a menu resource, double-click on its ID in the Resource list, 
or select the resource and choose <b>Edit Resource</b> or <b>Edit in 
Separate Window</b> from the <b>File</b> menu. 


<h4>Creating menus with accelerators and item help</h4>

As you create menus, you usually want to assign accelerator key 
combinations and item help strings at the same time. To do so, you 
must set up the string and accelerator tables before adding menu 
items, as outlined here: 

<ol>
<li> Create a string table resource by choosing <b>New String 
Table</b> from the Browser window's <b>Resource</b> menu. 

<li> Close the String Table editor by choosing <b>Close Editing</b> 
from the <b>File</b> menu. 

<li> Create a new accelerator table resource by choosing 
<b>New Accelerator Table</b> from the Browser window's 
<b>Resource</b> menu. 

<li> Close the Accelerator Table editor by choosing <b>Close 
Editing</b> from the <b>File</b> menu. Note the accelerator table's 
resource ID. 

<li> Create a new menu resource by choosing <b>New Menu</b> 
from the Browser window's <b>Resource</b> menu. 

<li> Make the new menu's resource ID the same as that of the 
accelerator table resource. In the Property Sheet, select 
the accelerator table resource's ID from the drop-down 
list in the ID field. You now can add menu items with 
accelerators and item help. 
</ol>


To set a menu item's accelerator, click on the Connect tab in the 
Property Sheet, then click on the Next Key. You are prompted to 
press the key combination that is used as the accelerator. When you 
do so, the accelerator is stored in the associated accelerator table. To 
set a menu item's help string, type the string into the Prompt field in 
the Property Sheet. The string is automatically placed in the string 
table. 
<p>

To show which key combination is associated with each menu item, 
add the accelerator to the item text. For readability, the accelerator is 
usually separated from the command name with a tab. For example, 
if you want Ctrl+F to be the accelerator for a command called Find, 
enter Find\tCtrl+F into the Text field of the menu item's 
Property Sheet (Figure 7-11). 

	<p>
	<center>
	<img align="middle" src="figure7_11.gif">
	<p>
	[Figure 7-11 Menu item text, showing accelerator]
	</center>

<h4>Simple guidelines for creating menus</h4>

When creating a menu, keep in mind the following points: 

<ul>
<li> Place frequently chosen options near the top of the 
menu to make them more accessible to the user. 

<li> Group related options under specific menu titles. 

<li> Follow standard conventions to make the application 
easier to use. 
</ul>


Windows users are accustomed to certain menu arrangements. For 
example, the <b>File</b> menu is usually the first menu in the menu bar 
and contains commands such as <b>New</b>, <b>Open</b>, and <b>Save</b>.
Choose commands from the <b>Menu</b> menu to quickly create standard 
<b>File</b>, <b>Edit</b>, and <b>Help</b> menus. 


<h3>Creating a new dialog resource</h3>

A dialog box is a window that communicates information and 
receives user input. It contains graphical elements called "controls." 
Figure 7-12 shows a typical dialog box. 

	<p>
	<center>
	<img align="middle" src="figure7_12.gif">
	<p>
	[Figure 7-12 A typical dialog box]
	</center>
	<p>

The following types of controls can be included in your dialog 
boxes: 

<ul>
<li> Push buttons send command codes to your application 
when the user clicks on them. They trigger an immediate 
action. 

<li> Check boxes are rectangular buttons that turn options on 
or off. Text describing the option is displayed to the left 
or right. 

<li> Radio buttons provide a set of options, only one of 
which may be selected. They are generally arranged in 
logical groups of two or more. 

<li> Edit controls (or textboxes) are rectangular boxes used 
for text entry. 

<li> Listboxes contain a list of items, usually in text form. The 
user can browse through the list and select one or more 
items. 

<li> Comboboxes combine the features of an edit control and 
a listbox; they let the user select an item from a list or 
type a selection into the textbox. 

<li> Scroll bars let the user specify a numerical option with an 
analog control. (Edit controls and listboxes have their 
own scroll bars and do not need a stand-alone scroll 
bar.) 

<li> Group boxes are rectangular frames with an optional 
caption, used to group other controls together visually. 

<li> Static text is used to convey information or to label 
controls that do not have captions (such as edit controls). 

<li> Pictures are used for decorative purposes. Picture types 
include empty frames, solid boxes, and icons. 

<li> Custom controls are user-defined controls implemented 
in a DLL. 

<li> User controls are user-defined controls that are not 
implemented in DLLs, or whose implementation is non-standard. 
(ResourceStudio treats VBX controls as user 
controls.) 

<li> The following Windows 95 controls are supported: 
Animate controls, Tab controls, Tree View controls, List 
View controls, Hotkey controls, Track Bars, Progress 
controls, and Up/ Down controls. 
</ul>


To create a new dialog box resource, choose <b>New Dialog Box</b> from 
the <b>Resource</b> menu of the Browser window. The <b>DialogExpress</b> 
dialog box opens (Figure 7-13). 

	<p>
	<center>
	<img align="middle" src="figure7_13.gif">
	<p>
	[Figure 7-13 DialogExpress dialog box]
	</center>
	<p>

<b>DialogExpress</b> gives you several options for simple dialog boxes 
that you may use as a starting point for your own dialog box. Select 
Standard and click OK. The Dialog editor opens in the right pane of 
the Browser window (Figure 7-14). 

	<p>
	<center>
	<img align="middle" src="figure7_14.gif">
	<p>
	[Figure 7-14 Dialog editor open in Browser window]
	</center>
	<p>

At the same time, the Dialog editor toolbox (Figure 7-15) opens. This 
toolbox provides shortcuts to commands in the <b>Tool</b> menu that let 
you create the different types of dialog box control. 

	<p>
	<center>
	<img align="middle" src="figure7_15.gif">
	<p>
	[Figure 7-15 Dialog editor toolbox]
	</center>
	<p>


The Property Sheet shows the General, Styles, and Look properties 
of the dialog box (Figure 7-16). You may want to start by changing 
the dialog box title. 
<p>


Type the new title into the Text field of the General properties page. 

	<p>
	<center>
	<img align="middle" src="figure7_16.gif">
	<p>
	[Figure 7-16 Properties of a dialog resource]
	</center>

<h4>Adding a push button</h4>

Initially, a new Standard dialog has no controls. To create a new 
push button: 

<ol>
<li> Choose <b>Push Button</b> from the <b>Tool</b> menu or click on 
the corresponding icon in the toolbox. 

<li> Click in the dialog box on the point at which you want 
to position the upper-left corner of the new button. Hold 
down the left mouse button and drag the cursor. A 
rubber-band rectangle appears. 

<li> Release the left mouse button when the rectangle is the 
proper size for the new button. A new push button is 
placed in your dialog box (Figure 7-17). 
</ol>

	<center>
	<img align="middle" src="figure7_17.gif">
	<p>
	[Figure 7-17 Dialog box resource with new push button]
	</center>
	<p>

The new push button is selected and highlighted. Then 
move and resize the new push button control with the mouse. 

<ul>
<li> To move a control, click and drag it to a new location. 

<li> To resize a control, click and drag one of the eight 
"handles" that appear along its edges. 
</ul>


You also may center the selected control in the dialog box. Choose 
<b>Vertical</b> or <b>Horizontal</b> from the <b>Center</b> submenu of the <b>Controls</b> 
menu. 
<p>


The Property Sheet lets you modify push button properties (Figure 
7-18). To change the button text, for example, change the Text field 
to the desired text. As with items in menus, you can set the 
activation key of a button or other control by typing an ampersand 
(&amp;) before the corresponding letter in the text. 

	<p>
	<center>
	<img align="middle" src="figure7_18.gif">
	<p>
	[Figure 7-18 Properties of a push button control]
	</center>

<h4>Adding static text</h4>

To add static text to a dialog box (for example, an informational 
message), choose <b>Text</b> from the <b>Tool</b> menu or click on the 
corresponding icon in the toolbox. Then click in your dialog box 
and drag the rubber-band box to the desired size. 
<p>


The Property Sheet shows the properties of the static text (Figure 
7-19). To change the text, edit the Text field. After entering the text, 
you can resize the static control to the size of the text by dragging 
the handles. 

	<p>
	<center>
	<img align="middle" src="figure7_19.gif">
	<p>
	[Figure 7-19 Properties of a static text control]
	</center>
	<p>

To center the text within the control, select Center from the drop-down 
list in the Align/ Style property. Center the control 
within the dialog box by choosing <b>Horizontal</b> from the <b>Center</b> 
submenu of the <b>Controls</b> menu. 
<p>


A static text control may contain multiple lines of text. While typing 
text into the Caption field, press Ctrl+Enter to start a new line. 
Likewise, insert tab characters by pressing Ctrl+Tab. 


<h4>Testing the dialog box</h4>

Test the dialog box resource without leaving 
ResourceStudio. To open the new dialog box for testing, choose <b>Test 
Dialog</b> from the <b>Dialog</b> menu (Figure 7-20). 

	<p>
	<center>
	<img align="middle" src="figure7_20.gif">
	<p>
	[Figure 7-20 Testing the new dialog box]
	</center>
	<p>

When you are testing the dialog box, ResourceStudio does not 
function; you must close the test dialog box by pressing Alt+F4 
before continuing. 


<h4>Aligning controls</h4>

Commands are available to align controls, to space them evenly, and 
to make them the same size. The following steps illustrate the three 
operations: 

<ol>
<li> Add a few odd-sized buttons to your dialog box, using 
the procedure described in the section "Adding a push 
button" earlier in this chapter. Place them in a horizontal 
row. 

<li> Select all the buttons at once by clicking on one, then 
holding down either the Shift or Control key as you click 
on the others. You can also choose <b>Select</b> from the <b>Tool</b> 
menu and drag a rubber-band box around the controls. 

<li> Establish one button as the "standard." Hold down 
Control and click on this button. The standard button is 
highlighted in blue on your screen. Figure 7-21 shows 
what your dialog box might look like. In the example, 
the button labeled "# 2" has been selected as the 
standard. 
</ol>

	<center>
	<img align="middle" src="figure7_21.gif">
	<p>
	[Figure 7-21 Multiple selection of controls]
	</center>
	<p>

Now you can perform any of the following alignment operations 
from the <b>Controls</b> menu: 

<ul>
<li> To make all the buttons the same size as the standard, 
choose <b>Both</b> from the <b>Make Same Size</b> submenu. 

<li> To align the tops of the buttons with the top of the 
standard, choose <b>Top</b> from the <b>Align</b> submenu. 

<li> To even out the horizontal spacing between the buttons, 
choose <b>Horizontal</b> from the <b>Space Evenly</b> submenu. 
</ul>


You also can move the selected controls as a unit by holding down 
the left mouse button and dragging them to a new location. 


<h4>Closing the dialog box editor</h4>

After finishing with a dialog box, close the Dialog editor 
by choosing <b>Close Editing</b> from the <b>File</b> menu. The Browser 
window is updated to show the new resource (Figure 7-22). 

	<p>
	<center>
	<img align="middle" src="figure7_22.gif">
	<p>
	[Figure 7-22 Browser window after creating dialog box resource]
	</center>
	<p>

After creating a dialog box resource, you can use ClassExpress to 
create a corresponding dialog box class, set up the class's message 
map, and implement dynamic data exchange and validation. 
ClassExpress can be run directly from the Browser window's <b>File</b> 
menu. For further information, see
Chapter 18, <a href="chapter18.html">More about ClassExpress</a>, as well as
Chapter 13, <a href="chapter13.html">Lesson 4: Add Messages with ClassExpress</a> and
Chapter 14, <a href="chapter14.html">Lesson 5: Add a Dialog Box with ClassExpress</a>. 


<h3>Creating a new bitmap resource</h3>

A bitmap is a picture that may be used for informational or 
decorative purposes. The Bitmap editor contains the functionality of 
a typical paint program, allowing you to create pictures of any size 
in 2, 16, or 256 colors. 
<p>

To create a new bitmap resource, choose <b>New Bitmap</b> from the 
<b>Resource</b> menu of the Browser window. The BitmapExpress dialog 
box opens (Figure 7-23). 

	<p>
	<center>
	<img align="middle" src="figure7_23.gif">
	<p>
	[Figure 7-23 BitmapExpress dialog box]
	</center>
	<p>

BitmapExpress allows you to set the number of colors and the initial 
size of the bitmap. If you are creating a bitmap for an MFC toolbar, 
you also can specify the number of buttons. For now, accept the 
defaults and click OK. The Bitmap editor opens in the right-most 
pane of the Browser window (Figure 7-24). 

	<p>
	<center>
	<img align="middle" src="figure7_24.gif">
	<p>
	[Figure 7-24 Bitmap editor open in Browser window]
	</center>
	<p>

The Bitmap editor window is divided into two panes. Draw 
in either. To change the relative sizes of the panes, click and drag 
the bar separating the panes. 
<p>


The Bitmap editor toolbox (Figure 7-25) also opens. This toolbox 
lets you choose graphics tools (also available in the <b>Tool</b> menu), set 
foreground and background colors, and select the line width and 
background pattern. 

	<p>
	<center>
	<img align="middle" src="figure7_25.gif">
	<p>
	[Figure 7-25 Bitmap editor toolbox]
	</center>
	<p>

The Property Sheet shows the General and Palette properties of the 
bitmap (Figure 7-26). Page between the two groups of 
properties by clicking on the tabs. The File field specifies the bitmap 
file; bitmaps are included in resource scripts by reference. If you 
want to change the bitmap file's name, type a new name into the 
File textbox. 

	<p>
	<center>
	<img align="middle" src="figure7_26.gif">
	<p>
	[Figure 7-26 Properties of a bitmap resource]
	</center>


<h4>Changing bitmap size</h4>

To change the bitmap size, change the width and height in the 
Property Sheet or resize the bitmap directly by dragging one of the 
handles along the right and bottom edges of the bitmap. 


<h4>Selecting colors and patterns</h4>

Select drawing color and patterns from the toolbox in the 
following way: 

<ul>
<li> Foreground color: Click on the color in the color palette 
with the left mouse button. 

<li> Background color: Click on the color in the color palette 
with the right mouse button. 

<li> Line type: Click in the line type display and select a line 
type from the pop-up menu. 

<li> Background pattern: Click in the background pattern 
display and select a pattern from the pop-up menu. 

<li> Brush: Click in the brush display and select a paintbrush 
or spray brush from the pop-up menu. The menu is only 
available when the Paintbrush or Spray brush tool is 
selected; it is also available by right-clicking on these 
tools. 
</ul>


<h4>Drawing tools</h4>

These drawing tools are available in the toolbox or in the 
<b>Tool</b> menu: 

<ul>
<li> Eraser: Removes all or part of the image 

<li> Pen: Draws individual pixels or freehand lines 

<li> Selection tool: Selects a rectangle that may be cut, 
copied, flipped, or inverted 

<li> Brush: Paints freehand lines with the selected brush 

<li> Spray brush: Paints patterns of pixels 

<li> Paint can: Floods an area with color 

<li> Line: Draws straight lines 

<li> Eye-dropper: Picks up a color from the image 

<li> Rectangles and ovals: Draw outlines or solid shapes 
</ul>


To select a drawing tool, click on the tool in the toolbox. To use a 
tool, click or click and drag (as appropriate) with either the left or 
the right mouse button. Tools make use of the current line type and 
background pattern whenever possible. Using the right mouse 
button to click or click and drag reverses the roles of foreground and 
background colors. 


<h4>Zoom and grid</h4>

Work with an image at normal size or zoom by factors of 2, 
4, or 8. To zoom, click in the pane containing the image, then 
select a <b>Zoom</b> command from the <b>View</b> menu.
Set one image at normal size for reference and a second image at 
a larger size for easier drawing. 
<p>


To help finish the details of the image, you can display a pixel grid 
in the image. A pixel grid can be displayed only when the zoom 
factor is 4 or 8. To show a pixel grid, choose <b>Grid</b> from the <b>View</b> 
menu. 


<h4>Closing the bitmap editor</h4>

After finishing with the bitmap, close the Bitmap editor by 
choosing <b>Close Editing</b> from the <b>File</b> menu. The Browser window 
is updated to show the new resource (Figure 7-27). 

	<p>
	<center>
	<img align="middle" src="figure7_27.gif">
	<p>
	[Figure 7-27 Browser window, after creating bitmap resource]
	</center>


<h3>Useful ResourceStudio features</h3>

A number of ResourceStudio features are useful for
creating and editing different resources. These include toolbars, the undo 
and redo functions, and the dragging and dropping of items. 


<h4>Toolbars and pop-up menus</h4>

ResourceStudio makes extensive use of toolbars. Toolbar icons offer 
quick access to frequently used menu items. For a list of toolbar 
commands, see the "ResourceStudio Reference." 
<p>


In many parts of ResourceStudio, clicking with the right mouse 
button opens a pop-up menu. The contents of the menu depend on 
the item clicked and on the current mode or tool. Pop-up menus are 
a convenient way to access commands available from the main 
menu. 


<h4>Undo and redo</h4>

ResourceStudio can undo any operation or redo any operation that was undone.
To undo the previous 
operation, choose <b>Undo</b> from the <b>Edit</b> menu or click on the Undo 
icon in the toolbar. Notice that the operation that will be undone is 
noted within the <b>Undo</b> menu item. To instead redo an 
action that was just undone, choose <b>Redo</b> from the <b>Edit</b> menu. 
<p>


Operations that you have performed are saved in lists. To set the 
number of operations that are saved (and thus that can be undone or 
redone), choose <b>Preferences</b> from the Shell window's <b>Edit</b> menu. 
Each Browser window and each resource type's editor keeps its own 
undo and redo list. 
<p>

To view a list of stored operations, click the right mouse button on 
the Undo or Redo toolbar icon. Select one or more 
operations from the list (see Figure 7-28). 

	<p>
	<center>
	<img align="middle" src="figure7_28.gif">
	<p>
	[Figure 7-28 List of stored operations in Bitmap editor]
	</center>

<h4>Clipboard and drag and drop</h4>

ResourceStudio supports cut, copy, and paste of resources and of 
objects within resources, such as dialog box controls and menu 
items. 
<p>


ResourceStudio also supports drag and drop of all items that can be 
cut, copied, and pasted. To move a resource or resource element, 
click and drag it to the new location. For example, to move 
resources from one file to another, open a Browser window for each 
file, then drag the resources from the first file to the second. To copy 
rather than move the element, hold down the Control key until you 
have released the item. 


<h2>Managing Resource IDs</h2>

Windows programs identify resources by a resource name, which 
can be a string or a number. Windows programs also use numbers to 
identify commands resulting from menu selections and accelerators 
and to identify dialog box controls. The number of identifiers used in 
a single application easily can run into the hundreds. One of the 
major features of ResourceStudio is its ability to automatically create 
and manage resource IDs. 


<h3>Resource ID field</h3>

Many property pages contain an ID field for the current resource or 
resource element. There are three types of resource IDs in 
ResourceStudio: 

<ul>
<li> Textual 

<li> Symbolic 

<li> Numeric 
</ul>


<h4>Textual IDs</h4>

Textual IDs are allowed only for certain resource types. To specify a 
textual ID, enclose the text in the ID field in double quotes. 
ResourceStudio warns you if you try to assign a textual ID to a 
resource type for which it is not allowed. 


<h4>Symbolic IDs</h4>

Symbolic IDs are names that correspond to numbers. By using this 
type of ID, you work with names that are meaningful, leaving 
ResourceStudio to keep track of the numbers that match the names. 
Symbols and their corresponding numbers are saved in the resource 
header file as #define statements. Thus the same symbols can be 
used to refer to the resources in your application code. 
<p>


Assign a symbolic ID either by typing the name into the ID 
field or by selecting a pre-existing ID from the drop-down list. If you 
enter a new symbol, ResourceStudio automatically assigns a unique 
numeric value. If you want to specify the numeric value, follow the 
symbolic name with an equal sign and the value (for example, 
IDD_ TEST= 451). Reassign the value of an existing symbol 
in the same way. 


<h4>Numeric IDs</h4>

Numeric IDs should not be used in new resource script (.rc) files; 
use symbolic IDs instead. If you create a binary resource file (.res), 
or edit the resources in an existing .exe or .dll file, you see the 
resource IDs as numbers, because the symbolic information is not 
saved for these file types. Assign a numeric ID by typing the 
number into the ID field. 
<p>


<b>Note:</b> 
When editing resources in .exe or .dll files, 
remember that the compiled source code refers to 
resources and commands by the numeric (or 
textual) ID; reassigning or changing IDs may result 
in incorrect behavior. 

<h3>Automatic creation of resource IDs</h3>

ResourceStudio automatically creates a new resource ID every time 
one is needed. The new ID is unique within its context: for resource 
elements, the ID is unique within the resource and, for resources, 
unique within the resource file. 
<p>


When assigning values to new symbols typed in by the user or 
created automatically, ResourceStudio uses different ranges for 
various purposes: 

<dl>
<dt><b>Resource item range (100-1999)</b>
<dd>Used for resources within a resource file 

<dt><b>User range (2000-2999)</b>
<dd>Used for resource IDs created by 
the user from within the <b>Resource ID Browser</b> dialog 
box (see below) 

<dt><b>Control range (3000-31999)</b>
<dd>Used by the Dialog editor for dialog controls 

<dt><b>Command range (32000-65535)</b>
<dd>Used by menu and accelerator editors for menu commands 
</dl>


<h3>Resource ID browsing</h3>

To browse and modify resource IDs, choose <b>Edit Resource IDs</b> 
from the <b>File</b> menu. 
<p>

The <b>Resource ID Browser</b> dialog box opens (Figure 7-29). 

	<p>
	<center>
	<img align="middle" src="figure7_29.gif">
	<p>
	[Figure 7-29 Resource ID Browser dialog box]
	</center>
	<p>

The upper listbox shows all the symbolic resource IDs in the 
resource file. Symbols can be sorted by name, value, or used/ unused 
state. Click on an ID to show a list of resources using the ID in the 
lower listbox. Open a resource shown in the lower listbox 
by double-clicking on it, or by selecting it and clicking View Usage. 
<p>

The remaining buttons are:

<dl>
<dt><b>New</b>
<dd>Opens the <b>New Resource ID</b> dialog box. Here 
you can create a new symbol and assign a value. By 
default, the value is in the User range (2000-2999). 

<dt><b>Delete</b>
<dd>Deletes the currently selected symbol. A symbol 
may only be deleted if it is not in use. 

<dt><b>Change</b>
<dd>Opens the <b>Change Resource ID</b> dialog box. 
Here you can change the symbol name or value. 

<dt><b>Renumber</b>
<dd>Performs a renumbering operation on all 
symbolic IDs. Each symbol is examined and a new value 
is assigned based on how it is used. If a symbol is used 
by items whose values are usually in different ranges, a 
dialog box asks for the range in which to 
place the value. 
</dl>



<br><br><br><br>

</td></table>





<div id="copyright">
Copyright &copy; 1999-2006 by Digital Mars, All Rights Reserved |
Page generated by <a href="http://www.digitalmars.com/d/ddoc.html">Ddoc</a>.
</div>

</body>
</html>

