
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>

<!--
	Copyright (c) 2001-2006 by Digital Mars
	All Rights Reserved
	www.digitalmars.com
  -->

<head>
<META http-equiv="content-type" content="text/html; charset=utf-8" >
<title>Digital Mars - Defining Classes and Their Hierarchies
</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
<div id="heading">
<a href="http://www.digitalmars.com/"><IMG SRC="dmlogo.gif" BORDER=0 WIDTH=270 HEIGHT=53 ALT="www.digitalmars.com"></a>

<a href="http://www.digitalmars.com/" title="www.digitalmars.com">Home</a>
| <a href="../advancedsearch.html" title="Search Digital Mars web site">Search</a>
| <a href="../ctg/ctg.html" title="Compiler & Tools Guide">CTG</a>
| <a href="../rtl/rtl.html" title="Runtime Library Reference">RTL</a>
| <a href="../ugr/ugr.html" title="IDDE Reference">IDDE</a>
| <a href="../stl/index.html" title="Standard Template Library">STL</a>

	<div id="lastupdate">Last update Fri Apr 28 16:30:16 2006
</div>
</div>

<!-- Generated by Ddoc from chapter5.d -->




<table border=1 cellpadding=8 cellspacing=0 frame="void" summary="this table is for layout only">
<tr>
<td valign="top" class="toc">
<small>
<center>
<form method="get" action="http://www.google.com/search">
<input id="q" name="q" size="10" value="IDDE Search" onFocus='if(this.value == "IDDE Search"){this.value="";}'>
<input type="hidden" id="domains" name="domains" value="www.digitalmars.com">
<input type="hidden" id="sitesearch" name="sitesearch" value="www.digitalmars.com/ugr">
<input type="hidden" id="sourceid" name="sourceid" value="google-search">
<input type="submit" id="submit" name="submit" value="Go">
</form>

    <a href="ugr.html"><b>IDDE<br>Reference</b></a><br><br>
</center>

<b>Part 1: Welcome to Digital Mars C++</b><br>
    1. <a href="chapter1.html">Introducing Digital Mars C++</a></br>
    2. <a href="chapter2.html">Introducing the IDDE</a></br>
<hr>
<b>Part 2: Creating an Application with Digital Mars C++</b><br>
    3. <a href="chapter3.html">Starting a Project and Defining Workspaces</a></br>
    4. <a href="chapter4.html">Generating an Application Framework</a></br>
    5. <a href="chapter5.html">Defining Classes and Their Hierarchies</a></br>
    6. <a href="chapter6.html">Editing Program Code</a></br>
    7. <a href="chapter7.html">Adding Look and Feel with Resources</a></br>
    8. <a href="chapter8.html">Testing an Application</a></br>
<hr>
<b>Part 3: Learning Digital Mars C++ by Example</b><br>
    9. <a href="chapter9.html">Introduction to the Tutorial</a></br>
    10. <a href="chapter10.html">Lesson 1: Create the DOS Application</a></br>
    11. <a href="chapter11.html">Lesson 2: Generate an Application Framework</a></br>
    12. <a href="chapter12.html">Lesson 3: Customize the Interface</a></br>
    13. <a href="chapter13.html">Lesson 4: Add Messages with ClassExpress</a></br>
    14. <a href="chapter14.html">Lesson 5: Add a Dialog Box with ClassExpress</a></br>
<hr>
<b>Part 4: More about Creating Programs</b><br>
    15. <a href="chapter15.html">More about Projects and Workspaces</a></br>
    16. <a href="chapter16.html">More about Project Build Settings</a></br>
    17. <a href="chapter17.html">More about AppExpress</a></br>
    18. <a href="chapter18.html">More about ClassExpress</a></br>
    19. <a href="chapter19.html">Class Editor Reference</a></br>
    20. <a href="chapter20.html">Hierarchy Editor Reference</a></br>
    21. <a href="chapter21.html">Text Editor Reference</a></br>
    22. <a href="chapter22.html">Using Version Control</a></br>
<hr>
<b>Part 5: More about Testing Programs</b><br>
    23. <a href="chapter23.html">Controlling and Configuring the Debugger</a></br>
    24. <a href="chapter24.html">Commands Available in Debugging Mode</a></br>
<hr>
<b>Part 6: About Managing Resources</b><br>
    25. <a href="chapter25.html">ResourceStudio Resource Editor</a></br>
    26. <a href="chapter26.html">Dialog Editor</a></br>
    27. <a href="chapter27.html">Menu, Accelerator and String Table Editors</a></br>
    28. <a href="chapter28.html">Bitmap, Cursor, Icon, and Font Editors</a></br>
    29. <a href="chapter29.html">Version Information and Custom Resource Editors</a></br>
<hr>
<b>Part 7: Appendixes</b><br>
    A. <a href="appendixa.html">Expression Evaluation</a></br>
    B. <a href="appendixb.html">IDDE Settings and Command-Line Options</a></br>
    C. <a href="appendixc.html">Using NetBuild</a></br>

</small>

<hr>


</td>
<td valign="top">

<h1>5. Defining Classes and Their Hierarchies</h1>


Once you have produced an application framework, 
customize the application by adding your own classes and functions. 
The two tools designed specifically for object-programming are 
the Class Editor and the Hierarchy Editor. They
simplify the design and maintenance of C++ projects by
working directly with the project's class hierarchy and members. The 
editors themselves take care of many of the mundane details of file-oriented 
program development, such as opening and closing files 
and locating source code for particular member functions. 
<p>

These tools are suited for developing a class hierarchy from scratch, 
for adding classes to an application framework generated with 
AppExpress, and for browsing and editing pre-existing class 
hierarchies. They are especially useful for understanding the 
architecture of unfamiliar source code. 
<p>

The Class and Hierarchy Editors can perform the same operations on 
classes and hierarchies; they differ only in their interface. The Class 
Editor's interface emphasizes member editing; the Hierarchy Editor's 
interface, through its graphical display, emphasizes inheritance 
relationships. Use one or the other, or both simultaneously, 
according to preference. 
<p>

This chapter describes basic operations that may be performed with 
the Class and Hierarchy Editors. For a complete reference on these 
two tools, see
<a href="chapter19.html">Chapter 19, "Class Editor Reference"</a>,
and
<a href="chapter19.html">Chapter 20, "Hierarchy Editor Reference"</a>. 


<h2>Parsing and Browsing</h2>

The Class and Hierarchy editors are C++ class browsers. These tools 
let you work with your source code in an object-oriented manner, 
rather than in the traditional file-oriented manner. The Class and 
Hierarchy Editors present you with a list of classes in your project, 
allow you to view the members of each class, and let you edit the 
member declarations and definitions directly, without performing the 
overhead of opening and closing files and locating source code for 
particular members. Changes made to classes or inheritance 
relationships in the Class or Hierarchy Editors are automatically 
changed in the underlying source code. 
<p>

To present you with a list of classes and members, the IDDE must 
parse the source code. By default, this is done automatically. When 
the IDDE detects that source code or project settings have changed 
since the last parse, it reparses the necessary files. If errors are 
encountered during parsing, messages are displayed in the Output 
window. You can double-click on the error message to open for 
editing the appropriate file at the point at which the error was 
detected. 


<h3>How the class browsers expand macros</h3>

The parser used by the Class and Hierarchy Editors contains a fully 
functional C preprocessor. One significant difference between this 
parser and the Digital Mars C compiler is the way the parser expands 
macros. 
<p>

The parser treats an entire project as one "database" of code. 
Consequently, preprocessor macros defined in any header will 
expand in any subsequently parsed file. This can produce 
unexpected errors. For example: 

<pre>
	// foo1.h ------------------------------------
	#define pBar (pIndirect-&gt;pBar) 
	// . . .

	// foo1.cpp ----------------------------------
	#include &lt;foo1.h&gt; 


	// foo2.cpp ----------------------------------
	struct A 
	{   int *pBar;    // ERROR! Expands to: int * 
	    (pIndirect-&gt; pBar);
	}; 
</pre>

To avoid errors of this type, undefine the macro at the top of the file 
where the error occurs (foo2.cpp). 


<h3>Browsing library source code</h3>

If browsing source code that is based on MFC or some other 
large class library, it is convenient to turn off the display 
of library classes. To do so: 

<ol>
	<li> Choose Settings from the IDDE's Project menu.

	<li> In the Project Settings dialog box, click the Directories
	tab.

	<li> In the Browser Exclude Directories textbox, type the
	name of the directory containing the class library headers
	(for example, <tt>c:\dm\mfc\include</tt>).

	<li> Click OK.
</ol>


Control the parsing of individual files from the Project window, 
and enable or disable parsing for the entire project from the Target 
page of the Project Settings dialog box. For more information, see 
<a href="chapter15.html">Chapter 15, "More about Projects and Workspaces"</a>. 


<h2>Class Editor</h2>

The Class Editor provides a list-based view of the class hierarchy. 
From within the Class Editor add classes, modify 
inheritance relationships, and view and edit class member 
declarations and definitions. 
<p>

To open a Class Editor window, do one of: 

<ol>
	<li> Choose Class Editor from the Window menu's Goto 
	View submenu. 

	<li> Click and drag the Class Editor icon from the Views 
	toolbox to an empty area of the desktop. 
</ol>

The Class Editor window (see Figure 5-1) is divided into three panes: 

<ol>
	<li> The Classes pane, which contains a list of classes. 

	<li> The Members pane, which contains a list of members of 
	the current (highlighted) class. 

	<li> The Source pane, which displays member source code. 
	You can edit the source code in this pane as in the 
	Source window (see
	<a href="chapter6.html">Chapter 6, "Editing Program Code"</a>, 
	for a description of text editing features). 
</ol>

	<img align="middle" src="figure5_1.gif">
<p>
	[Figure 5-1 Class Editor window]
<p>


The Class Editor window contains a standard menu bar and toolbar; 
pop-up menus are available in each pane. You can set options for 
the grouping, sorting, and display of classes and members in the 
Classes and Members panes in the Editing/ Browsing Settings 
dialog box. For a complete reference on Class Editor menus and 
options, see
<a href="chapter19.html">Chapter 19, "Class Editor Reference"</a>. 
<p>

You can change the relative sizes of panes in the Class Editor 
window by first positioning the cursor over the line separating the 
panes. The cursor changes to a two-headed arrow. Press the left 
mouse button and drag the separator to the desired location. 
<p>

To select a class in the Classes pane, click on it. Additional classes 
may be selected by holding down the Control key and clicking. By 
default, classes are displayed hierarchically, with derived classes 
below and indented relative to their bases. Classes with multiple 
bases are displayed beneath each of the bases. Triangular buttons to 
the left of base classes can be used to collapse and expand branches 
of the hierarchy. You can set an option to display classes 
alphabetically in the Editing/ Browsing Settings dialog box. 
<p>

By default, class members in the Members pane are grouped into 
Functions, Data, and Typedefs. The tree structure can be expanded 
or collapsed by clicking on the triangular buttons to the left of the 
category names. To select a class member, click on it. Additional 
members can be selected by clicking while holding down the 
Control key. You can display a member declaration or definition in 
the Source pane by double-clicking on the member name. 


<h3>Creating classes</h3>

You can create a class hierarchy consisting of new classes related to 
other classes by inheritance (derived or sibling classes), or create 
new top-level classes not related to any other class. 


<h4>Creating a top-level class</h4>

To create a new class hierarchy, first create a top-level class to serve 
as a base for the hierarchy. 
<p>

To create a new top-level class: 

<ol>
	<li> Choose Add Top from the pop-up menu in the 
	Classes pane. The Add Class dialog box is displayed 
	(Figure 5-2). 

<p>
	<img align="middle" src="figure5_2.gif">
<p>
	[Figure 5-2 Add Class dialog box]

	<li> Type a name for the new class.

	<li> Click OK. 
</ol>

The class declaration is placed in a new header file, and the header 
file is added to the project. By default, the first eight letters of the 
class name are used to derive the header filename. You may change 
the header filename by typing an alternative name in the Header File 
textbox of the Add Class dialog box. 


<h4>Creating a derived class</h4> 

After a base class exists, you may create derived classes— specialized 
versions of the base class. 
<p>

To create a new derived class: 

<ol>
	<li> Select the base class of the new class. 

	<li> Choose Add Derived from the pop-up menu in the 
	Classes pane. The Create Derived Class dialog box 
	opens. (This dialog box is similar to the Add Class 
	dialog box.) 

	<li> Type a name for the new class. 

	<li> Click OK. 
</ol>


<h4>Creating a sibling class</h4> 

You may also create a new derived class as a "sibling" to an existing 
class. Siblings have the same base class with the same access 
specifiers. 
<p>

To create a new sibling class: 

<ol>
	<li> Select the class whose base class will be the base class of 
	the new class. 

	<li> Choose Add Sibling from the pop-up menu in the 
	Classes pane. The Create Derived Class dialog box is 
	displayed. 

	<li> Type a name for the new class. 

	<li> Click OK. 
</ol>


<h3>Editing inheritance relationships</h3>

As your application evolves, you may want to restructure your class 
hierarchy. The Class Editor lets you add and delete connections 
between classes, as well as change the inheritance attributes. 
<p>

When altering inheritance relationships, the Class and Hierarchy 
Editors change only the class declarations. In particular, they do not 
change references to base classes and their members in a derived 
class's constructors or functions. If such references exist, you must 
change them manually in the source file. 


<h4>Connecting to a base class</h4> 

You can connect a class to a base class to make it a derived class of 
this base. 
<p>

To make one existing class derive from another existing class: 

<ol>
	<li> Select the class that will be the derived class. 

	<li> Choose Connect Base from the pop-up menu in 
	the Classes pane. The Add Base dialog box opens 
	(Figure 5-3). 

<p>
	<img align="middle" src="figure5_3.gif">
<p>
	[Figure 5-3 Add Base dialog box]

	<li> From the listbox, select the class (or classes) to be this 
	class's base class. 

	<li> Select the desired access specifier. Check Virtual if virtual 
	inheritance is desired. 

	<li> Click OK. 
</ol>

If the classes are displayed hierarchically, the derived class is 
displayed below and is indented relative to the base class in the 
Classes pane. 


<h4>Deleting a connection</h4>

You can also disconnect a derived class from a base class. 
<p>

To delete an inheritance relationship: 

<ol>
	<li> Select a derived class. 

	<li> Choose Delete Base Connection from the pop-up 
	menu in the Classes pane. 

	<li> A message box requests confirmation. Click Yes to delete 
	the base connection. 
</ol>


In cases of multiple inheritance, select one inheritance relationship 
to delete by clicking on the instance of the derived class below the 
base to be removed. For classes derived from more than one base 
class, multiselecting the inheritance relationships to be deleted lets 
you delete all base connections simultaneously. If a class has all of 
its base connections severed, it remains in the hierarchy at the top 
level. 


<h4>Editing inheritance attributes</h4> 

You can change a derived class's base class access specifier and 
virtual inheritance flag. 
<p>

To edit the base class access specifier: 

<ol>
	<li> In the Classes pane, select the derived class. 
<p>

	In cases of multiple inheritance, select the base 
	connection to edit by clicking on the instance of the 
	derived class below the appropriate base. 

	<li> Choose Edit Base Attributes from the pop-up menu in 
	the Classes pane. 
<p>

	The Edit Base Attributes dialog box opens (Figure 5-4). 
<p>
	<img align="middle" src="figure5_4.gif">
<p>
	[Figure 5-4 Edit Base Attributes dialog box]

	<li> Select the desired access specifier. Check Virtual if virtual 
	inheritance is desired. Click OK. 
</ol>


If you are editing several inheritance relationships simultaneously 
and the access specifiers are not identical, a Don't Change option is 
displayed. This lets you change the Virtual specifier without also 
affecting the access specifiers. You may, however, select Public, 
Protected, or Private, and all connections are given that access 
specifier. 


<h3>Working with class members</h3>

After creating a class, you can implement its functionality through 
member data and functions. You may add, delete, and edit class 
members through the Members pane and Source panes. 
<p>

A list of the members of the currently selected class is shown in the 
Members pane (Figure 5-5). By default, the member list is sorted into 
three categories: Data, Functions, and Typedefs. Within each 
category, items are sorted alphabetically. The colored diamond in 
front of each member identifies the access as public (green), 
protected (yellow), or private (red). Names of members defined as 
macros appear in red. 
<p>

<b>Note:</b> 
Members that appear in red are not syntactically 
verified before source changes are saved back to 
the file. 
<p>

The lists following each category header can be collapsed or 
expanded by clicking on the triangular button to the left of the 
category name. 

<p>
	<img align="middle" src="figure5_5.gif">
<p>
	[Figure 5-5 Members pane of Class Editor]

<h4>Adding a class member</h4>

The first step in class implementation is to declare the data members 
and member functions. 
<p>

To add a class member: 

<ol>
	<li> Choose Add from the pop-up menu in the Members 
	pane. The Add Member dialog box opens (Figure 5-6). 
<p>
	<img align="middle" src="figure5_6.gif">
<p>
	[Figure 5-6 Add Member dialog box]

	<li> Type the member declaration. The member may be a 
	data item (for example, int nCats), a function (for 
	example, int NumCats()), or a typedef (for example, 
	typedef int CATCOUNT). Do not type any storage 
	specifiers into the declaration textbox; these are added 
	by the Class Editor. 

	<li> Select the desired access and storage specifiers. Check 
	the Inline check box for an inline function. 

	<li> Click OK. 
</ol>


The new member is added to the appropriate group in the Members 
pane and to the class declaration in the header file. If the new 
member is a function, an empty function is added to the appropriate 
source file. If a new source file is created, it is added to the project. 
<p>

By default, the first eight letters of the class name are used to derive 
the source filename for new functions. You may change the file 
name by entering an alternative name in the Source File textbox of 
the Add Member dialog box. 


<h4>Deleting a class member</h4> 

Unneeded class members are easily removed. 
<p>

To delete a class member: 

<ol>
	<li> Select the class member to be deleted. 

	<li> Choose Delete from the pop-up menu in the Members 
	pane. 

	<li> When the message box requests confirmation, click Yes 
	to delete the member. 
</ol>


The declaration is removed from the header file and, if the member 
was a function, the function definition is removed from the source 
file. 


<h4>Changing member attributes</h4>

As your class and hierarchy evolve, you may decide to change 
certain member attributes. For example, you may want to make a 
function virtual, or data private. 
<p>

To change a member's access and storage specifiers: 

<ol>
	<li> Select the member you want to change. 

	<li> Choose Edit Attributes from the pop-up menu in the 
	Members pane. The Change Member Attributes dialog 
	box opens (Figure 5-7). 
<p>

	<img align="middle" src="figure5_7.gif">
<p>
	[Figure 5-7 Change Member Attributes dialog box]

	<li> Select the desired access and storage specifiers. Check 
	the Inline check box for an inline function. Click OK. 
</ol>


The class declaration in the header file is modified and the Members 
display is updated to reflect those changes. 
<p>

If you are editing several members' attributes simultaneously and the 
access specifiers are not identical, a Don't Change option is 
displayed in the Access group box. Likewise, if the storage specifiers 
are not identical, a Don't Change option is displayed in the Storage 
group box. These options let you change other member attributes 
without affecting the original access or storage of each member. You 
may, however, select a particular access or storage specifier, and all 
members are given that attribute. Also, when you are editing several 
members' attributes, if the inline attributes are not the same, the 
Inline check box changes to allow three states (checked, unchecked, 
and grayed, indicating "Do not change") instead of the normal two-state 
options. 


<h4>Viewing and editing member source</h4>

After declaring your class members, you can extend your functions 
by editing the function definitions in the Source pane. You also can 
change data member types, array dimensions, and so on. 
<p>

To view and edit member declarations and function definitions: 

<ol>
	<li> Double-click on the member in the Members pane. 
<p>

	The member's declaration (for data items and pure 
	virtual functions) or definition (for other functions) is 
	displayed in the Source pane. If the source code is not 
	available (as with MFC libraries, for example), the 
	definition is displayed. 

	<li> Click in the Source pane to begin editing. Editing 
	operations here are identical to editing operations in 
	other Source windows. 

	<li> To save changes, choose Save from the pop-up menu in 
	the Source pane. 
</ol>


Changes made to a function's argument and return types in the 
definition are updated automatically in the class declaration. The 
Members pane is updated when the source is saved. 
<p>

<b>Note:</b> 
If you close the current project before you save a 
source file you've modified with the Class Editor, 
you cannot discard the changes or close the file 
until you reopen the project. 

<h3>Viewing and editing source files</h3>

At times it is useful to view and edit the entire file containing the 
class declaration or the class's functions. It is necessary, for example, 
to add the appropriate <tt>#include</tt> statements to the source files 
before compiling. 
<p>

To view and edit the header file containing the class declaration: 

<ol>
	<li> Select the class in the Classes pane. 

	<li> Choose Show Header from the pop-up menu in the 
	Classes pane. A Source window containing the contents 
	of the class header file is displayed. 

	<li> Edit the class declaration as desired. 
<p>

	You may add or delete class members as you would 
	without the Class Editor. However, if you add functions 
	to the declaration, you have to add the function 
	definitions manually to the source file as well. 

	<li> Save your changes by choosing Save from the Source 
	window's File menu. 

	<li> To close the Source window, choose Close from the File 
	menu. 

	<li> Click on the Class Editor window. If you have made 
	changes to the header file, a message box asks whether 
	it is OK to reparse. Click Yes. 

	<li> Click on the class whose declaration you just edited to 
	see the member changes updated in the Members pane. 
</ol>


<b>Note:</b> 
For non-inline functions, if you change the 
function's signature (return type, argument types, 
and so forth) in its declaration, you must make the 
corresponding changes to its definition by hand, or 
the Members pane will display two versions of the 
function. 
<p>

To view and edit the source file containing member function 
definitions: 

<ol>
	<li> Select a member function from the Members pane. 

	<li> Choose Show Source from the pop-up menu from the 
	Members pane. (Show Source is dimmed if the source 
	code is not available.) 
<p>

	The file containing the member function's source code is 
	opened for editing in a Source window. 

	<li> Edit the member functions as desired. 
<p>

	You may edit member functions as you would without 
	the Class Editor. However, if you change function 
	arguments or return types, or add new functions, you 
	must modify or add the function declarations manually in 
	the header file as well. 

	<li> Save your changes by choosing Save from the Source 
	window's File menu. 

	<li> To close the Source window, choose Close from the File 
	menu. 

	<li> Click on the Class Editor window. If you have made 
	changes to the source file, a message box asks whether it 
	is OK to reparse. Click Yes. 
</ol>


<h2>Hierarchy Editor</h2>

The Hierarchy Editor provides a graphical view of the class 
hierarchy. From within the Hierarchy Editor, you may add classes, 
modify inheritance relationships, and view and edit class member 
declarations and definitions. With its graphical view of class 
relationships, the Hierarchy Editor is an especially useful tool when 
examining unfamiliar source code for the first time. 
<p>

To open a Hierarchy Editor window, do one of the following: 

<ul>
	<li> Choose Hierarchy Editor from the Goto View 
	submenu of the IDDE's Window menu. 

	<li> Double-click on the Hierarchy Editor icon in the Views 
	toolbox, or drag the icon to an empty area of the 
	desktop. 
</ul>

The Hierarchy Editor window opens. By default, only the graphical 
display of class hierarchies is shown. To provide full functionality, it 
is necessary to enable the editor's two child windows. 
<p>

To enable the Hierarchy Editor child windows: 

<ol>
	<li> Choose Settings from the Hierarchy Editor's pop-up 
	menu. The Editing/Browsing Settings dialog box 
	opens to the Hierarchy page. 

	<li> Check the items labeled Members and Source in the Pop-up 
	Windows group box. 

	<li> Click OK. 
</ol>

The Members and Source child windows open below the Hierarchy 
Editor window (Figure 5-8). 
<p>

	<img align="middle" src="figure5_8.gif">
<p>
	[Figure 5-8 Hierarchy Editor window]
<p>

Unlike the Members and Source panes of the Class Editor, Hierarchy 
Editor windows are independent. They have their own menus and 
may be positioned, sized, and closed separately. Otherwise, they 
behave as do the corresponding panes of the Class Editor. For a 
complete reference on Hierarchy Editor menus and options, see 
<a href="chapter20.html">Chapter 20, "Hierarchy Editor Reference"</a>. 


<h3>Creating classes</h3>

A class hierarchy consists of a number of classes connected by 
inheritance relationships. You can create new classes related to other 
classes by inheritance (derived or sibling classes) or new top-level 
classes not related to any other class. 
<p>

Operations relating to class creation and the establishment of 
hierarchical relationships are carried out in the Hierarchy Editor's 
graphical display window. 


<h4>Creating a top-level class</h4>

To create a new class hierarchy, first create a top-level class to serve 
as a base for the hierarchy. 
<p>

To create a new top-level class: 

<ol>
	<li> Activate the Hierarchy Editor window. 

	<li> Choose Add Top from the pop-up menu. The Add Class 
	dialog box opens (Figure 5-9). 
<p>
	<img align="middle" src="figure5_2.gif">
	<!-- <img align="middle" src="figure5_9.gif"> -->
<p>
	[Figure 5-9 Add Class dialog box]

	<li> Type a name for the new class. 

	<li> Click OK. 
</ol>

The class declaration is placed in a new header file, the header file is 
added to the project, and the new class is selected in the Hierarchy 
Editor main pane. By default, the first eight letters of the class name 
are used to derive the header file name. You may change the header 
file name by typing an alternative name in the Header File textbox of 
the Add Class dialog box. 


<h4>Creating a derived class</h4>

After a base class exists, you may add a specialized version of that 
class to the hierarchy by creating a derived class. 
<p>

To create a new derived class: 

<ol>
	<li> Select the class that will act as the base class of the new 
	class. 

	<li> Choose Add Derived from the pop-up menu. 
<p>

	You can also perform this step with the mouse. Hold the 
	left mouse button down and drag the cursor from the 
	selected class to an empty area of the window. A rubber 
	band line appears as you do this (Figure 5-10). Release 
	the mouse button. 
<p>

	The Create Derived Class dialog box opens (this dialog 
	box is similar to the Add Class dialog box). 
<p>
	<img align="middle" src="figure5_10.gif">
<p>
	[Figure 5-10 Creating a new derived class using the mouse]

	<li> Type a name for the new class. 

	<li> Click OK. 
</ol>


<h4>Creating a sibling class</h4>

You may also create a new derived class as a "sibling" to an existing 
class. Sibling classes have the same base class with the same access 
specifiers. 
<p>

To create a new sibling class: 

<ol>
	<li> Click on the class whose base class is to be the base class 
	of the new class. 

	<li> Choose Add Sibling from the pop-up menu. The Create 
	Derived Class dialog box is displayed. 

	<li> Type a name for the new class. 

	<li> Click OK. 
</ol>


<h3>Editing inheritance relationships</h3>

As your application evolves, you may want to restructure your class 
hierarchy. You can add and delete connections between classes, as 
well as change the inheritance attributes. 
<p>

In altering inheritance relationships, Class and Hierarchy Editors 
change only the class declarations, not references to base classes and 
their members in a derived class's constructors or functions. If such 
references exist, you must change them manually. 


<h4>Connecting to a base class</h4>

You can connect a class to a base class, to make the former a 
derived class of the latter. 
<p>

To make an existing class a base of another existing class: 

<ol>
	<li> Click on the class that is to be the derived class. 

	<li> Choose Connect Base from the pop-up menu. The Add 
	Base dialog box opens (Figure 5-11). 
<p>
	<img align="middle" src="figure5_3.gif">
	<!-- <img align="middle" src="figure5_11.gif"> -->
<p>
	[Figure 5-11 Add Base dialog box]

	<li> From the listbox, select the class (or classes) that will be 
	the derived class's base class. 

	<li> Select the desired access specifier. Check Virtual if virtual 
	inheritance is desired. 

	<li> Click OK. The display changes to show the new 
	inheritance relationship. 
</ol>


You can also connect to a base by using the mouse in the graphical 
display. Click on the class that is to be the base class. Holding down 
the mouse button, drag the rubber-band line to the class that is to be 
the derived class. (The cursor changes to a universal "No" sign when 
positioned over a class that cannot become a derived class of this 
base.) Release the mouse button. The class is publicly derived from 
the base. 


<h4>Deleting a connection</h4> 

Just as you can connect a class to a base class, you also can 
disconnect a derived class from a base class. 
<p>

To delete an inheritance relationship: 

<ol>
	<li> Click on the line connecting the base and derived 
	classes. The line is highlighted to show that it is selected 
	(Figure 5-12). 
<p>
	<img align="middle" src="figure5_12.gif">
<p>
	[Figure 5-12 Highlighted base-derived connection]

	<li> Choose Delete Base Connection from the pop-up 
	menu. 

	<li> When the message box requests confirmation, click Yes 
	to delete the base connection. 
</ol>


<h4>Changing base class</h4> 

You can move a base class connection to change the base of a 
derived class. 
<p>

To change a class's base class: 

<ol>
	<li> Click on the line connecting the derived class and its 
	current base. 
<p>

	The line is highlighted to indicate that it has been 
	selected. Note that at the end nearest the base class, 
	there is a small black box (referred to as the line's 
	"handle"). 

	<li> Click on the line's handle. Holding down the left mouse 
	button, drag the handle over the class that is to be the 
	derived class's new base class. 

	<li> When the message box requests confirmation, click Yes 
	to change the base connection. 
</ol>


<h4>Editing inheritance attributes</h4> 

You can change a derived class's base class access specifier and 
virtual inheritance flag. 
<p>

To edit the base class access specifier: 

<ol>
	<li> Click on the line connecting the base and derived 
	classes. The line is highlighted to show that it is selected. 

	<li> Choose Edit Base Attributes from the pop-up 
	menu. The Edit Base Attributes dialog box opens 
	(Figure 5-13). 
<p>
	<img align="middle" src="figure5_13.gif">
<p>
	[Figure 5-13 Edit Base Attributes dialog box]

	<li> Select the desired access specifier. Check Virtual if virtual 
	inheritance is desired. Click OK. 
</ol>


If you are editing several connections simultaneously and the access 
specifiers are not identical, a Don't Change option becomes 
available. This lets you change the Virtual specifier without affecting 
the various access specifiers. You may, however, check Public, 
Protected, or Private instead, and all connections are given that 
access specifier. 


<h3>Working with class members</h3>

After creating a class, you can implement its functionality through 
member data and functions. You may add, delete, and edit class 
members through the Members and Source child windows. 
<p>

A list of members of the currently selected class is displayed in the 
Members child window (Figure 5-14). By default, the member list is 
sorted into three categories: Data, Functions, and Typedefs. Within 
each of these categories, items are sorted alphabetically. The colored 
diamond in front of each member identifies the access as public 
(green), protected (yellow), or private (red). Lists following each 
category header can be collapsed or expanded by clicking on the 
triangular button to the left of the category name. 

<p>
	<img align="middle" src="figure5_14.gif">
<p>
	[Figure 5-14 Members child window]

<h4>Adding a class member</h4>

The first step in class implementation is to declare the data and 
function members. 
<p>

To add a class member: 

<ol>
	<li> Activate the Members child window. 

	<li> Choose Add from the Member menu or from the 
	pop-up menu. The Add Member dialog box opens 
	(Figure 5-15). 
<p>
	<img align="middle" src="figure5_6.gif">
	<!-- <img align="middle" src="figure5_15.gif"> -->
<p>
	[Figure 5-15 Add Member dialog box]

	<li> Type the member declaration. The member may be a 
	data item (for example, int nDogs), a function (for 
	example, int NumDogs()), or a typedef (for example, 
	typedef int DOGCOUNT). Do not type any storage 
	specifiers into the declaration textbox; these are added 
	by the Hierarchy Editor. 

	<li> Select the desired access and storage specifiers. Check 
	the Inline check box for an inline function. 

	<li> Click OK. 
</ol>

The new member is added to the appropriate list in the Members 
child window and to the class declaration in the header file. If the 
new member is a function, an empty function is added to the 
appropriate source file. If a new source file is created, that file is 
added to the project. 
<p>

By default, the first eight letters of the class name are used to derive 
the source file name for new functions. You can change the file 
name by entering an alternative name in the Source File textbox of 
the Add Member dialog box. 


<h4>Deleting a class member</h4> 

Unneeded class members are easily removed. 
<p>

To delete a class member: 

<ol>
	<li> Select the class member to be deleted. 

	<li> Choose Delete from the Member menu or from the 
	pop-up menu. 

	<li> When the message box requests confirmation, click Yes 
	to delete the member. 
</ol>


The declaration is removed from the header file; if the member was 
a function, the function definition also is removed from the source 
file. 


<h4>Changing member attributes</h4> 

As your class and hierarchy evolve, you may need to change certain 
member attributes. For example, you may want to make a function 
virtual, or data private. 
<p>

To change a member's access and storage specifiers: 

<ol>
	<li> Select the member to be changed. 

	<li> Choose Edit Attributes from the Member menu or from 
	the pop-up menu. The Change Member Attributes 
	dialog box opens (Figure 5-16). 
<p>
	<img align="middle" src="figure5_7.gif">
	<!-- <img align="middle" src="figure5_16.gif"> -->
<p>
	[Figure 5-16 Change Member Attributes dialog box]

	<li> Select the desired access and storage specifiers. Check 
	Inline for an inline function. Click OK. 
</ol>


If you are editing several members' attributes simultaneously and 
their access specifiers are not identical, a Don't Change option 
becomes available in the Access group box. Similarly, if the storage 
specifiers are not identical, a Don't Change option is displayed in the 
Storage group box. These options allow you to change other 
member attributes without affecting the original access or storage of 
each member, respectively. You may, however, select a particular 
access or storage specifier, and all members are given that attribute. 
<p>

The class declaration in the header file is modified and the Members 
display is updated to reflect the changes. 


<h4>Viewing and editing member source</h4> 

After declaring your class members, you can extend your functions 
by editing the function definition in the Source child window. Also, 
you can change data member types, array dimensions, and so on. 
<p>

To view and edit member declarations and function definitions: 

<ol>
	<li> Double-click on the member in the Members child 
	window. 
<p>

	The member's declaration (for data items and pure 
	virtual functions) or definition (for other functions) is 
	shown in the Source child window. 

	<li> Click in the Source child window to begin editing. 
	Editing operations here are identical to those in other 
	Source windows. 

	<li> To save changes, choose Save from the pop-up menu. 
</ol>

Changes made to a function's argument and return types are updated 
automatically in the class declaration. The Members child window is 
updated when the source is saved. 


<h3>Viewing and editing source files</h3>

At times it is useful to view and edit the entire file containing the 
class declaration or the class's functions. 
<p>

To view and edit the header file containing the class declaration: 

<ol>
	<li> Click on the class in the Hierarchy Editor window. 

	<li> Choose Show Header from the pop-up menu. 
<p>

	A Source window containing the contents of the class 
	header file opens. 

	<li> Edit the class declaration as desired. 
<p>
	You may add or delete class members as you would 
	without the Hierarchy Editor. However, if you add 
	function declarations, you must add the function 
	definitions to the source file manually as well. 

	<li> Save your changes by choosing Save from the Source 
	window's File menu. 

	<li> To close the Source window, choose Close from the File 
	menu. 

	<li> Click on the Hierarchy Editor window. If you have made 
	changes to the header file, a message box asks whether 
	it is OK to reparse. Click Yes. 

	<li> Click on the class whose declaration you just edited to 
	see the member changes updated in the Members 
	window. 
</ol>

To view and edit the source file containing member function 
definitions: 

<ol>
	<li> Select a member function from the Members child 
	window. 

	<li> Choose <b>Show Source</b> from the <b>Member</b> menu or from 
	the pop-up menu. 
<p>
	The file containing the member function's source code is 
	opened for editing in a Source window. 
<p>

	<li> Edit the member functions as desired. 
<p>
	You may edit member functions as you would without 
	the Hierarchy Editor. However, if you change function 
	arguments or return types, or add new functions, you 
	must modify or add the function declarations manually in 
	the header file as well. 
<p>

	<li> Save your changes by choosing <b>Save</b> from the Source 
	window's <b>File</b> menu. 

	<li> To close the Source window, choose <b>Close</b> from the <b>File</b> 
	menu. 

	<li> Click on the Hierarchy Editor window. If you have made 
	changes to the source file, a message box asks whether it 
	is OK to reparse. Click Yes. 
</ol>



<br><br><br><br>

</td></table>







<div id="copyright">
Copyright &copy; 1999-2006 by Digital Mars, All Rights Reserved |
Page generated by <a href="http://www.digitalmars.com/d/ddoc.html">Ddoc</a>.
</div>

</body>
</html>

