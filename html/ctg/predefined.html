
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>

<!--
	Copyright (c) 2001-2006 by Digital Mars
	All Rights Reserved
	www.digitalmars.com
  -->

<head>
<META http-equiv="content-type" content="text/html; charset=utf-8" >
<title>Digital Mars - Predefined Macros
</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
<div id="heading">
<a href="http://www.digitalmars.com/"><IMG SRC="dmlogo.gif" BORDER=0 WIDTH=270 HEIGHT=53 ALT="www.digitalmars.com"></a>

<a href="http://www.digitalmars.com/" title="www.digitalmars.com">Home</a>
| <a href="../advancedsearch.html" title="Search Digital Mars web site">Search</a>
| <a href="ctg.html" title="Compiler & Tools Guide">CTG</a>
| <a href="../rtl/rtl.html" title="Runtime Library Reference">RTL</a>
| <a href="../ugr/ugr.html" title="IDDE Reference">IDDE</a>
| <a href="../stl/index.html" title="Standard Template Library">STL</a>

	<div id="lastupdate">Last update Fri Apr 28 16:25:45 2006
</div>
</div>

<!-- Generated by Ddoc from predefined.d -->




<table border=1 cellpadding=8 cellspacing=0 frame="void" summary="this table is for layout only">
<tr>
<td valign="top" class="toc" nowrap>
<small>
<center>
<form method="get" action="http://www.google.com/search">
<input id="q" name="q" size="10" value="Search" onFocus='if(this.value == "Search"){this.value="";}'>
<input type="hidden" id="domains" name="domains" value="www.digitalmars.com">
<input type="hidden" id="sitesearch" name="sitesearch" value="www.digitalmars.com/ctg">
<input type="hidden" id="sourceid" name="sourceid" value="google-search">
<input type="submit" id="submit" name="submit" value="Go">
</form>
</center>

    <a href="ctg.html"><b>Compiler & Tools Guide</b></a><br>

<hr><b>Compiling</b><br>

    &#149; <a href="ctgCompilingCode.html">Compiling Code</a><br>
    &#149; <a href="C-Language-Implementation.html">C Implementation</a><br>
    &#149; <a href="CPP-Language-Implementation.html">C++ Implementation</a><br>
    &#149; <a href="ctgLanguageImplementation.html">Language Extensions</a><br>
    &#149; <a href="ctgMixingLanguages.html">Mixing Languages</a><br>
    &#149; <a href="ctgAsm.html">Assembly Language</a><br>
    &#149; <a href="ctgInlineAsm.html">Inline Assembler</a><br>
    &#149; <a href="ctgOptimizer.html">Optimizing Code</a><br>
    &#149; <a href="ctgNumerics.html">Numerics Programming</a><br>
    &#149; <a href="regular.html">Regular Expressions</a><br>
    &#149; <a href="acrtused.html">Acrtused</a><br>
    &#149; <a href="pragmas.html">Pragmas</a><br>
    &#149; <a href="precompiled.html">Precompiled Headers</a><br>
    &#149; <a href="predefined.html">Predefined Macros</a><br>
    &#149; <a href="warnings.html">Warning Messages</a><br>
    &#149; <a href="ctgCompilerErrors.html">Error Messages</a><br>
    &#149; <a href="warnings.html#runtime">Runtime Messages</a><br>
    <br>

<hr><b>Linking</b><br>

    &#149; <a href="optlink.html">Optlink</a><br>
    &#149; <a href="ctgLinkSwitches.html">Switches</a><br>
    &#149; <a href="ctgDefFiles.html">Module Definition Files</a><br>
    &#149; <a href="ctgLinkOps.html">Operation and Design</a><br>
    &#149; <a href="OptlinkErrorMessages.html">Error Messages</a><br>
    <br>

<hr><b>Win32 Programming</b><br>

    &#149; <a href="win32programming.html#win32">Win32 Programming</a><br>
    <br>

<hr><b>DOS and Win16<br>Programming</b><br>

    &#149; <a href="ctgMemoryModel.html">Memory Models</a><br>
    &#149; <a href="pointers16.html">16 Bit Pointer Types<br> and Type Modifiers</a><br>
    &#149; <a href="win32programming.html#handle">Handle Pointers</a><br>
    &#149; <a href="win32programming.html#dos">DOS</a><br>
    &#149; <a href="dos32.html">DOS 32 (DOSX)</a><br>
    &#149; <a href="win32programming.html#win16">Win16</a><br>
    &#149; <a href="win32programming.html#win16dll">Win16 DLLs</a><br>
    &#149; <a href="windowspe.html">Win16 Prolog/Epilog</a><br>
    <br>

<hr><b>C/C++ Extensions</b><br>

    &#149; <a href="contract.html">Contract Programming</a><br>
    &#149; <a href="debugstatement.html">__debug statement</a><br>
    &#149; <a href="debugstatement.html#debugdeclaration">__debug declaration</a><br>
    &#149; <a href="trace.html">Dynamic Profiling</a><br>
    &#149; <a href="html.html">Embedding C in HTML</a><br>
    <br>

<hr><b>Tools</b><br>

    &#149; <a href="bcc.html" title="Convert Borland compiler commands">BCC</a><br>
    &#149; <a href="chmod.html" title="Examine and change file attributes">CHMOD</a><br>
    &#149; <a href="cl.html" title="Convert Microsoft compiler commands">CL</a><br>
    &#149; <a href="coff2omf.html" title="Convert COFF .obj and .lib to OMF">COFF2OMF</a><br>
    &#149; <a href="coffimplib.html" title="Convert COFF import library OMF">COFFIMPLIB</a><br>
    &#149; <a href="sc.html" title="Compiler command">DMC</a><br>
    &#149; <a href="diff.html" title="Compare files">DIFF</a><br>
    &#149; <a href="diffdir.html" title="Compare directories">DIFFDIR</a><br>
    &#149; <a href="dump.html" title="Dump files in hex">DUMP</a><br>
    &#149; <a href="dumpobj.html" title="Dump object files in hex">DUMPOBJ</a><br>
    &#149; <a href="dumpexe.html" title="Dump exe files">DUMPEXE</a><br>
    &#149; <a href="exe2bin.html" title="Create .com files">EXE2BIN</a><br>
    &#149; <a href="flpyimg.html" title="Read/Write Floppy Image">FLPYIMG</a><br>
    &#149; <a href="grep.html" title="Search files for string">GREP</a><br>
    &#149; <a href="ctgHelp.html" title="Creating Help Tools">HC</a><br>
    &#149; <a href="implib.html" title="Build import libraries">IMPLIB</a><br>
    &#149; <a href="lib.html" title="Object file librarian">LIB</a><br>
    &#149; <a href="libunres.html" title="Analyze library and object files">LIBUNRES</a><br>
    &#149; <a href="make.html" title="Simple make utility">MAKE</a><br>
    &#149; <a href="makedep.html" title="Update makefile dependencies">MAKEDEP</a><br>
    &#149; <a href="me.html" title="MicroEmacs Text Editor">ME</a><br>
    &#149; <a href="obj2asm.html" title="Object file disassembler">OBJ2ASM</a><br>
    &#149; <a href="patchobj.html" title="Patch object files">PATCHOBJ</a><br>
    &#149; <a href="ctgRC.html" title="Microsoft Resource compiler">RC</a><br>
    &#149; <a href="rcc.html" title="Digital Mars Resource compiler">RCC</a><br>
    &#149; <a href="sc.html" title="Compiler command">SC</a><br>
    &#149; <a href="shell.html" title="Shell scripts">SHELL</a><br>
    &#149; <a href="smake.html" title="Manage complex projects">SMAKE</a><br>
    &#149; <a href="touch.html" title="Set file timestamps">TOUCH</a><br>
    &#149; <a href="unmangle.html" title="Format C++ mangled names">UNMANGLE</a><br>
    &#149; <a href="whereis.html" title="Search for files">WHEREIS</a><br>
    <br>

<hr><b>Porting to DMC++</b><br>

    &#149; <a href="switchtodigitalmars.html">Switching to DMC++</a><br>
    &#149; <a href="switchtodigitalmars.html#microsoft">from Microsoft</a><br>
    &#149; <a href="switchtodigitalmars.html#borland">from Borland</a><br>
    &#149; <a href="ctgPorting.html">Porting Guide</a><br>
    <br>

</small>

<hr>

</td>
<td valign="top">



<h1>Predefined Macros</h1>

	Numerous macros are predefined by the compiler, enabling
	detailed control for conditional compilation.
<p>
	Names without a leading _ will not be defined if the <b>-A</b> switch
	is used. New code should use the leading _ version.
<p>
	By "defined", a macro is defined and set to 1.

<dl>
	<dt><b>_MSDOS, MSDOS</b><p>
	<dd>MSDOS target. Defined for all cases where <b>__OS2__</b> or
	<b>_WIN32</b> are not defined.
	<p>

	<dt><b>__OS2__</b><p>
	<dd>OS/2 target. Defined for <b>-mf</b>.
	<p>

	<dt><b>WIN32,_WIN32</b><p>
	<dd>WIN32 target (NT, Windows 95 or Win32s). 
	Defined for <b>-mn</b>.
	<p>

	<dt><b>DOS386</b><p>
	<dd>32 bit extended DOS target. Defined for <b>-mx</b> or <b>-mp</b>.
	<p>

	<dt><b>DOS16RM</b><p>
	<dd>16 bit extended DOS target. Defined for <b>-mr</b> or <b>-mz</b>.
	<p>

	<dt><b>M_I86, _M_I86</b><p>
	<dd>Always defined.
	<p>

	<dt><b>_M_I86TM, M_I86TM</b><p>
	<dd>Tiny memory model. Defined for <b>-mt</b>.
	<p>

	<dt><b>_M_I86SM, M_I86SM</b><p>
	<dd>Small memory model. Defined for <b>-ms</b>, <b>-mx</b>,
	<b>-mp</b>, <b>-mf</b> or <b>-mn</b>.
	<p>

	<dt><b>_M_I86MM, M_I86MM</b><p>
	<dd>Medium memory model. Defined for <b>-mm</b>.
	<p>

	<dt><b>_M_I86CM, M_I86CM</b><p>
	<dd>Compact memory model. Defined for <b>-mc</b>.
	<p>

	<dt><b>_M_I86LM, M_I86LM</b><p>
	<dd>Large memory model. Defined for <b>-ml</b>, <b>-mr</b> or <b>-mz</b>.
	<p>

	<dt><b>_M_I86VM, M_I86VM</b><p>
	<dd>VCM memory model. Defined for <b>-mv</b>.
	<p>


	<dt><b>_M_I8086, M_I8086</b><p>
	<dd>8088 is target. Defined for <b>-0</b> or default 
	for <b>-mt</b>, <b>-ms</b>, <b>-mm</b>, <b>-mc</b>, <b>-ml</b>, or <b>-mv</b>.
	<p>

	<dt><b>_M_I286, M_I286</b><p>
	<dd>80286 or better is target.
	Defined for <b>-2</b>, <b>-3</b>,
	<b>-4</b>, <b>-5</b>. Default for <b>-mr</b>, <b>-mz</b>, <b>-mx</b>, <b>-mp</b>, 
	<b>-mf</b>, <b>-mo</b>.
	<p>

	<dt><b>_M_IX86</b><p>
	<dd>Defined for 32 bit targets. Set to:
				<b>300</b> for 386 targets,
				<b>400</b> for 486,
				<b>500</b> for Pentium,
				<b>600</b> for P6.
	<p>

	<dt><b>__DMC__</b><p>
	<dd>Always defined. Set to version number:
				<b>0x700</b> for version 7.0,
				<b>0x720</b> for 7.2,
				<b>0x800</b> for 8.0.
	<p>

	<dt><b>__DMC_VERSION_STRING__</b><p>
	<dd>Expands to a string identifying the compiler, such
	as <tt>"Digital Mars C/C++ 8.32.2"</tt>.
	<p>

	<dt><b>_CHAR_UNSIGNED</b><p>
	<dd>Chars are unsigned. Defined for <b>-J</b>.
	<p>

	<dt><b>_CHAR_EQ_UCHAR</b><p>
	<dd><tt>chars</tt> and <tt>unsigned chars</tt> are same type. 
	Defined for <b>-Ju</b>.
	<p>

	<dt><b>_DEBUG_TRACE</b><p>
	<dd>Set to <b>1</b> when <b>-gt</b> is set.
	<p>

	<dt><b>_DLL</b><p>
	<dd>Set to <b>1</b> when <b>-ND</b> is set. Means that the DLL RTL 
	will be used rather than the statically 
	linked in RTL.
	<p>

	<dt><b>_ENABLE_ARRAYNEW</b><p>
	<dd>Set to <b>1</b> when <b>-Aa</b> is set.
	<p>

	<dt><b>_BOOL_DEFINED</b><p>
	<dd>Set to <b>1</b> for <b>-Ab</b> (enable <tt>bool</tt> keyword).
	<p>

	<dt><b>_WCHAR_T_DEFINED</b><p>
	<dd>Set to <b>1</b> for <b>-Aw</b> (enable <tt>wchar_t</tt> keyword).
	<p>

	<dt><b>_CPPRTTI</b><p>
	<dd>Set to <b>1</b> for <b>-Ar</b> (enable RTTI).
	<p>

	<dt><b>_CPPUNWIND</b><p>
	<dd>Set to <b>1</b> for <b>-Ae</b> (enable C++ exception handling).
	<p>

	<dt><b>_MD</b><p>
	<dd>Set to <b>1</b> when <b>-ND</b> is set. Means that the app
	will be multi-thread aware.
	<p>

	<dt><b>_PUSHPOP_SUPPORTED</b><p>
	<dd>Set to <b>1</b>. Used to indicate <tt>#pragma pack(push)</tt> and
	<tt>#pragma pack(pop)</tt> are supported.
	<p>

	<dt><b>_STDCALL_SUPPORTED</b><p>
	<dd>Set to <b>1</b>. Used to indicate that the <tt>__stdcall</tt> and
	<tt>__cdecl</tt> keywords are supported.
	<p>

	<dt><b>__INTSIZE</b><p>
	<dd>Always defined. Set to size of <tt>int</tt> (<b>2</b> for 16 bit 
	models, <b>4</b> for 32 bit models).
	This macro is equivalent to <tt>sizeof(int)</tt> except that it can be 
	used in preprocessor expressions. It is most useful for distinguishing 
	between 16-and 32-bit compilations. For example: 

<pre>
	#if __INTSIZE == 2
		// 16-bit version
	#elseif __INTSIZE == 4
		// 32-bit version 
	#else
	#error Unsupported int size 
	#endif 
</pre>

	<dt><b>__DEFALIGN</b><p>
	<dd>Always defined. Set to default struct member 
	alignment for memory model. Not affected by 
	<b>-a</b> compiler switch or align or pack pragmas.
	It is affected by the memory model. It has 
	a value of <b>2</b> for 16-bit memory models, <b>4</b> for DOSX,
	and <b>8</b> for Win32. 
	<p>

	It is useful for ensuring that structures in
	header files are laid out in a manner consistent
	with their corresponding 
	compiled library. For example: 

<pre>
	#pragma pack(__DEFALIGN) // to default alignment 
	struct ABC {...}; // lay out structure
	#pragma pack() // return to previous alignment 
</pre>

	<dt><b>_INTEGRAL_MAX_BITS</b><p>
	<dd>Set to <b>32</b> for 16 bit memory models, <b>64</b> for 32 bit
	memory models. It specifies the maximum 
	number of bits in the largest integral type. 
	(32 bit memory models support the <tt>long long</tt>
	64 bit integral type.)
	<p>

	<dt><b>_WINDOWS</b><p>
	<dd>Generating Windows program. Defined for <b>-W[123AD]</b>.
	<p>

	<dt><b>_WINDLL</b><p>
	<dd>Generating Windows DLL. Defined for <b>-WD</b>.
	<p>

	<dt><b>__INLINE_8087</b><p>
	<dd>Defined if generating inline math coprocessor code.
	<p>

	<dt><b>__I86__</b><p>
	<dd>Always defined. Set to target CPU (<b>0</b> == 8088, 
			<b>2</b> == 286, <b>3</b> == 386, <b>4</b> == 486, <b>5</b> == P5, 
			<b>6</b> == P6).
	<p>

	<dt><b>__SMALL__</b><p>
	<dd>Defined if <b>-mt</b>, <b>-ms</b>, <b>-mx</b>, <b>-mp</b>, <b>-mf</b>, <b>-mn</b>.
	<p>

	<dt><b>__MEDIUM__</b><p>
	<dd>Defined if <b>-mm</b>.
	<p>

	<dt><b>__COMPACT__</b><p>
	<dd>Defined if <b>-mc</b>.
	<p>

	<dt><b>__LARGE__</b><p>
	<dd>Defined if <b>-ml</b>, <b>-mz</b>, <b>-mr</b>.
	<p>

	<dt><b>__VCM__</b><p>
	<dd>Defined if <b>-mv</b>.
	<p>

	<dt><b>__FPCE__</b><p>
	<dd>Always defined. Indicates NCEG conformance.
	<p>

	<dt><b>__FPCE__IEEE__</b><p>
	<dd>Indicates IEEE 754 conformance. Defined by default, 
	not defined for <b>-ff</b>.
	<p>

	<dt><b>DEBUG</b><p>
	<dd>Defined for <b>-D</b>. Not affected by <b>-A</b>.
	<p>

	<dt><b>__BASE_FILE__</b><p>
	<dd>Source file name as specified on the command line.
	<p>

	<dt><b>__FUNCTION__</b><p>
	<dd>Same as <b>__FUNC__</b>.
	Provided for Gnu CC compatibility.
	<p>

	<dt><b>__PRETTY_FUNCTION__</b><p>
	<dd>Same as <b>__FUNC__</b>, but pretty-printed (C++ functions
	become more readable).
	Provided for Gnu CC compatibility.
	<p>

	<dt><b>__TIMESTAMP__</b><p>
	<dd>Always defined. Set to compilation time in the 
	form <tt>"Ddd Mmm dd hh:mm:ss yyyy"</tt>.
	<p>
</dl>

<h2>C99 Predefined Macros</h2>

	Defined per the C99 Standard 6.10.8 when compiling C programs.

<dl>
	<dt><b>__DATE__</b><p>
	<dd>Always defined. Set to compilation date in the 
	form <tt>"Mmm dd yyyy"</tt>.
	<p>

	<dt><b>__FILE__</b><p>
	<dd>Always defined. Set to name of file being compiled 
	enclosed in <tt>""</tt>.
	<p>

	<dt><b>__LINE__</b><p>
	<dd>Always defined. Set to current line of source file.
	<p>

	<dt><b>__STDC__</b><p>
	<dd>C standard conformance.
	Defined for <b>-A</b>, <b>-A89</b>, <b>-A90</b>, <b>-A94</b>,
	<b>-A95</b>, <b>-A99</b> and set to <b>1</b>.
	<p>

	<dt><b>__STDC_HOSTED__</b><p>
	<dd>Always defined and set to <b>0</b>.
	<p>

	<dt><b>__STDC_VERSION__</b><p>
	<dd>Always defined (unless switch <b>-A89</b> or <b>-A90</b>) and
	    set to <b>19990L</b> (<b>199409L</b> for
	    switch <b>-A94</b> or <b>-A95</b>).
	<p>

	<dt><b>__TIME__</b><p>
	<dd>Always defined. Set to compilation time in the 
	form <tt>"hh:mm:ss"</tt>.
	<p>

	<dt><b>__STDC_IEC_559__</b><p>
	<dd>IEC 60559 floating point arithmetic conformance.
	Defined if <b>-ff</b> (fast floating point) is not set.
	If defined, then set to <b>1</b>.
	<p>

	<dt><b>__STDC_IEC_559_COMPLEX__</b><p>
	<dd>IEC 60559 complex floating point arithmetic conformance.
	Defined if <b>-ff</b> (fast floating point) is not set.
	If defined, then set to <b>1</b>.
	<p>

	<dt><b>__STDC_ISO_10646__</b><p>
	<dd>Not defined.
	<p>


</dl>

<h2>C++98 Predefined Macros</h2>

	Defined per the C++98 Standard 16.8-1 when compiling C++
	programs (.cpp file extension or <b>-cpp</b> switch).

<dl>
	<dt><b>__LINE__</b><p>
	<dd>Always defined. Set to current line of source file.
	<p>

	<dt><b>__FILE__</b><p>
	<dd>Always defined. Set to name of file being compiled 
	enclosed in <tt>""</tt>.
	<p>

	<dt><b>__DATE__</b><p>
	<dd>Always defined. Set to compilation date in the 
	form <tt>"Mmm dd yyyy"</tt>.
	<p>

	<dt><b>__TIME__</b><p>
	<dd>Always defined. Set to compilation time in the 
	form <tt>"hh:mm:ss"</tt>.
	<p>

	<dt><b>__STDC__</b><p>
	<dd>C++98 conformance. Defined for <b>-A</b> and set to <b>1</b>.
	<p>

	<dt><b>__cplusplus</b><p>
	<dd>Always defined and set to <b>199711L</b>.
	<p>

</dl>


<h2>Obsolete Predefined Macros</h2>

These are retained for backwards compatibility. They should not be
used in new code.

<dl>
	<dt><b>__FUNC__</b><p>
	<dd>Always defined. Expands to the name of the function.
	The name appears enclosed in "".
	Expands to "" outside of a function.
	Obsolete per C99 6.4.2.2; use <b>__func__</b> instead.
	<p>

	<dt><b>__NT__</b><p>
	<dd>Windows NT or Win32s target. Defined for <b>-mn</b>.
	Obsolete - use <b>_WIN32</b> instead.
	<p>

	<dt><b>__SC__</b><p>
	<dd>Always defined. Set to same value as <b>__DMC__</b>.
	Obsolete - use <b>__DMC__</b> instead.
	<p>

	<dt><b>__ZTC__</b><p>
	<dd>Always defined. Set to same value as <b>__DMC__</b>.
	Obsolete - use <b>__DMC__</b> instead.
	<p>

</dl>


<br><br><br><br>

</td></table>





<div id="copyright">
Copyright &copy; 1999-2006 by Digital Mars, All Rights Reserved |
Page generated by <a href="http://www.digitalmars.com/d/ddoc.html">Ddoc</a>.
</div>

</body>
</html>

