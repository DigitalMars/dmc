
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>

<!--
	Copyright (c) 2001-2006 by Digital Mars
	All Rights Reserved
	www.digitalmars.com
  -->

<head>
<META http-equiv="content-type" content="text/html; charset=utf-8" >
<title>Digital Mars - C and C++ Language Extensions
</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
<div id="heading">
<a href="http://www.digitalmars.com/"><IMG SRC="dmlogo.gif" BORDER=0 WIDTH=270 HEIGHT=53 ALT="www.digitalmars.com"></a>

<a href="http://www.digitalmars.com/" title="www.digitalmars.com">Home</a>
| <a href="../advancedsearch.html" title="Search Digital Mars web site">Search</a>
| <a href="ctg.html" title="Compiler & Tools Guide">CTG</a>
| <a href="../rtl/rtl.html" title="Runtime Library Reference">RTL</a>
| <a href="../ugr/ugr.html" title="IDDE Reference">IDDE</a>
| <a href="../stl/index.html" title="Standard Template Library">STL</a>

	<div id="lastupdate">Last update Fri Apr 28 16:25:45 2006
</div>
</div>

<!-- Generated by Ddoc from ctgLanguageImplementation.d -->



<table border=1 cellpadding=8 cellspacing=0 frame="void" summary="this table is for layout only">
<tr>
<td valign="top" class="toc" nowrap>
<small>
<center>
<form method="get" action="http://www.google.com/search">
<input id="q" name="q" size="10" value="Search" onFocus='if(this.value == "Search"){this.value="";}'>
<input type="hidden" id="domains" name="domains" value="www.digitalmars.com">
<input type="hidden" id="sitesearch" name="sitesearch" value="www.digitalmars.com/ctg">
<input type="hidden" id="sourceid" name="sourceid" value="google-search">
<input type="submit" id="submit" name="submit" value="Go">
</form>
</center>

    <a href="ctg.html"><b>Compiler & Tools Guide</b></a><br>

<hr><b>Compiling</b><br>

    &#149; <a href="ctgCompilingCode.html">Compiling Code</a><br>
    &#149; <a href="C-Language-Implementation.html">C Implementation</a><br>
    &#149; <a href="CPP-Language-Implementation.html">C++ Implementation</a><br>
    &#149; <a href="ctgLanguageImplementation.html">Language Extensions</a><br>
    &#149; <a href="ctgMixingLanguages.html">Mixing Languages</a><br>
    &#149; <a href="ctgAsm.html">Assembly Language</a><br>
    &#149; <a href="ctgInlineAsm.html">Inline Assembler</a><br>
    &#149; <a href="ctgOptimizer.html">Optimizing Code</a><br>
    &#149; <a href="ctgNumerics.html">Numerics Programming</a><br>
    &#149; <a href="regular.html">Regular Expressions</a><br>
    &#149; <a href="acrtused.html">Acrtused</a><br>
    &#149; <a href="pragmas.html">Pragmas</a><br>
    &#149; <a href="precompiled.html">Precompiled Headers</a><br>
    &#149; <a href="predefined.html">Predefined Macros</a><br>
    &#149; <a href="warnings.html">Warning Messages</a><br>
    &#149; <a href="ctgCompilerErrors.html">Error Messages</a><br>
    &#149; <a href="warnings.html#runtime">Runtime Messages</a><br>
    <br>

<hr><b>Linking</b><br>

    &#149; <a href="optlink.html">Optlink</a><br>
    &#149; <a href="ctgLinkSwitches.html">Switches</a><br>
    &#149; <a href="ctgDefFiles.html">Module Definition Files</a><br>
    &#149; <a href="ctgLinkOps.html">Operation and Design</a><br>
    &#149; <a href="OptlinkErrorMessages.html">Error Messages</a><br>
    <br>

<hr><b>Win32 Programming</b><br>

    &#149; <a href="win32programming.html#win32">Win32 Programming</a><br>
    <br>

<hr><b>DOS and Win16<br>Programming</b><br>

    &#149; <a href="ctgMemoryModel.html">Memory Models</a><br>
    &#149; <a href="pointers16.html">16 Bit Pointer Types<br> and Type Modifiers</a><br>
    &#149; <a href="win32programming.html#handle">Handle Pointers</a><br>
    &#149; <a href="win32programming.html#dos">DOS</a><br>
    &#149; <a href="dos32.html">DOS 32 (DOSX)</a><br>
    &#149; <a href="win32programming.html#win16">Win16</a><br>
    &#149; <a href="win32programming.html#win16dll">Win16 DLLs</a><br>
    &#149; <a href="windowspe.html">Win16 Prolog/Epilog</a><br>
    <br>

<hr><b>C/C++ Extensions</b><br>

    &#149; <a href="contract.html">Contract Programming</a><br>
    &#149; <a href="debugstatement.html">__debug statement</a><br>
    &#149; <a href="debugstatement.html#debugdeclaration">__debug declaration</a><br>
    &#149; <a href="trace.html">Dynamic Profiling</a><br>
    &#149; <a href="html.html">Embedding C in HTML</a><br>
    <br>

<hr><b>Tools</b><br>

    &#149; <a href="bcc.html" title="Convert Borland compiler commands">BCC</a><br>
    &#149; <a href="chmod.html" title="Examine and change file attributes">CHMOD</a><br>
    &#149; <a href="cl.html" title="Convert Microsoft compiler commands">CL</a><br>
    &#149; <a href="coff2omf.html" title="Convert COFF .obj and .lib to OMF">COFF2OMF</a><br>
    &#149; <a href="coffimplib.html" title="Convert COFF import library OMF">COFFIMPLIB</a><br>
    &#149; <a href="sc.html" title="Compiler command">DMC</a><br>
    &#149; <a href="diff.html" title="Compare files">DIFF</a><br>
    &#149; <a href="diffdir.html" title="Compare directories">DIFFDIR</a><br>
    &#149; <a href="dump.html" title="Dump files in hex">DUMP</a><br>
    &#149; <a href="dumpobj.html" title="Dump object files in hex">DUMPOBJ</a><br>
    &#149; <a href="dumpexe.html" title="Dump exe files">DUMPEXE</a><br>
    &#149; <a href="exe2bin.html" title="Create .com files">EXE2BIN</a><br>
    &#149; <a href="flpyimg.html" title="Read/Write Floppy Image">FLPYIMG</a><br>
    &#149; <a href="grep.html" title="Search files for string">GREP</a><br>
    &#149; <a href="ctgHelp.html" title="Creating Help Tools">HC</a><br>
    &#149; <a href="implib.html" title="Build import libraries">IMPLIB</a><br>
    &#149; <a href="lib.html" title="Object file librarian">LIB</a><br>
    &#149; <a href="libunres.html" title="Analyze library and object files">LIBUNRES</a><br>
    &#149; <a href="make.html" title="Simple make utility">MAKE</a><br>
    &#149; <a href="makedep.html" title="Update makefile dependencies">MAKEDEP</a><br>
    &#149; <a href="me.html" title="MicroEmacs Text Editor">ME</a><br>
    &#149; <a href="obj2asm.html" title="Object file disassembler">OBJ2ASM</a><br>
    &#149; <a href="patchobj.html" title="Patch object files">PATCHOBJ</a><br>
    &#149; <a href="ctgRC.html" title="Microsoft Resource compiler">RC</a><br>
    &#149; <a href="rcc.html" title="Digital Mars Resource compiler">RCC</a><br>
    &#149; <a href="sc.html" title="Compiler command">SC</a><br>
    &#149; <a href="shell.html" title="Shell scripts">SHELL</a><br>
    &#149; <a href="smake.html" title="Manage complex projects">SMAKE</a><br>
    &#149; <a href="touch.html" title="Set file timestamps">TOUCH</a><br>
    &#149; <a href="unmangle.html" title="Format C++ mangled names">UNMANGLE</a><br>
    &#149; <a href="whereis.html" title="Search for files">WHEREIS</a><br>
    <br>

<hr><b>Porting to DMC++</b><br>

    &#149; <a href="switchtodigitalmars.html">Switching to DMC++</a><br>
    &#149; <a href="switchtodigitalmars.html#microsoft">from Microsoft</a><br>
    &#149; <a href="switchtodigitalmars.html#borland">from Borland</a><br>
    &#149; <a href="ctgPorting.html">Porting Guide</a><br>
    <br>

</small>

<hr>

</td>
<td valign="top">

<h1>C and C++ Language Extensions</h1>

	<ul>
	<li> <a href="ctgInlineAsm.html">Inline Assembler</a><br>
	<li> <a href="contract.html">Design by Contract</a><br>
	<li> <a href="debugstatement.html">__debug statement</a><br>
	<li> <a href="debugstatement.html#debugdeclaration">__debug declaration</a><br>
	<li> <a href="trace.html">Dynamic Profiling</a><br>
	<li> <a href="html.html">Embedding C in HTML</a><br>
	<li> <a href="#extended">Extended Type Modifiers</a>
	<li> <a href="#declspec">__declspec</a>
	<li> <a href="#emit">Emit declaration</a>
	<li> <a href="#binary_constants">Binary integer constants</a>
	<li> <a href="#dollar_identifier">$ in Identifiers</a>
	<li> <a href="ctgNumerics.html#comparisons">Extended Comparison Operators</a>
	<li> <a href="#seh">Win32 Structured Exception Handling</a>
	</ul>

<a name="extended"><h2>Extended Type Modifiers</h2></a>

	The following type modifier keywords are extensions to the 
	C and C++ standard: 

<pre>
__based, __cdecl, __cs, __declspec, __export, __far,
__fortran, __handle, __huge, __interrupt, __loadds,
__near, __pascal, __ss 
</pre>

	These keywords provide support for mixed language programming 
	and for mixed memory models. Although they are not necessary for 
	all applications, their judicious use can significantly enhance 
	program performance. 
	<p>

	The keywords __cs, __far, __handle, __huge, __interrupt, __loadds,
	__near, __ss are applicable for 16 bit programs and are described in
	<a href="pointers16.html">16 Bit Pointer Types and Type Modifiers</a>.
	<p>

	<b>Note:</b> 
	The keywords __far, __interrupt, __handle, 
	__loadds, and __huge are ignored by default in 
	compilations using the Win32 (the default) memory model. 
	Ignore these keywords 
	in any compilation by specifying the <tt>-NF</tt> compiler 
	option. 
	<p>

	For backwards compatibility with legacy code,
	the keywords _cs, cdecl, _cdecl, far, _far, near, 
	_near, huge, _huge, pascal, and _pascal are also supported.
	These are incompatible with the language standards, and so should be
	replaced wherever found with the
	versions that have two leading underscores. 


<h3>__cdecl, __fortran, and __pascal</h3>

	These provide support for calling functions in other languages. For more
	information, see <a href="ctgMixingLanguages.html">Mixing Languages</a>.

<h3>__export</h3>

	This keyword aids those programming Microsoft Windows. 
	__export causes the function name to be exported to the linker. 
	<p>

	__export may also be used to designate all members of a class for 
	export by adding the keyword between the class and the tag name. 
	For example: 

<pre class="ccode">class __export A {...}; 
</pre>

<a name="declspec"><h2>__declspec</h2></a>

	Digital Mars C++ supports the Microsoft specific keyword 
	__declspec and the related attributes dllimport, dllexport, 
	naked, and thread. Use __declspec along with an attribute 
	when declaring functions or variables, as described below. 
	<p>

	<b>Note:</b> 
	Like other extended keywords, __declspec is 
	disabled with the -A (ANSI compatibility) 
	compiler option. 


    <h3>dllimport and dllexport attributes</h3>

	Use dllimport and dllexport to import and export 
	functions and data objects to and from DLLs. 
	<p>

	The dllimport attribute takes the place of the IMPORTS statement 
	in a module definition file; it indicates that a function resides in a 
	DLL. 
	<p>

	The dllexport attribute takes the place of the EXPORTS statement 
	in a module definition file (and the __export keyword). Use it 
	in DLLs to indicate which functions and data objects are available to 
	other applications and DLLs. 
	<p>

	The syntax for declaring a function or data object with the 
	dllimport or dllexport attributes is: 

<pre class="ccode">__declspec(dllimport) type name(args); 
__declspec(dllexport) type name(args); 
</pre>


    <h3>naked attribute</h3>

	The compiler does not generate prolog and epilog code for 
	functions declared with the naked attribute. This enables you to use 
	inline assembly code to write your own prolog/ epilog. 
	<p>

	The syntax for declaring a function with the naked attribute is: 

<pre class="ccode">__declspec(naked) type function_name(args); 
</pre>


    <h3>thread attribute</h3>

	Use the thread attribute to declare a variable to be local to a 
	specific thread in a multi-threaded process. The thread attribute is 
	valid only in 32-bit code. 
	<p>

	The syntax for declaring a variable with the thread attribute is: 
<pre>
__declspec(thread) type variable_name = expr; 
</pre>

<a name="emit"><h2>Emit declaration</h2></a>

	An <tt>__emit__</tt> declaration is used to embed short assembly language 
	fragments into the body of the code. <tt>__emit__</tt> takes a 
	variable number of integer arguments, representing the machine 
	language instructions. The compiler then inserts these instructions 
	into the generated code. For example, the declaration 

<pre class="ccode">__emit__(0xB47F, 0x89CB, 0xCD21); 
</pre>

	and inserts these instructions into the code: 

<pre class="ccode">mov AH,7F
mov BX,CX 
int 21 
</pre>

	It's probably better to use the inline assembler rather than
	<tt>__emit__</tt>.

<a name="dollar_identifier"><h2>$ in Identifiers</h2></a>

	The dollar sign ($) is a valid character in an identifier.
	This extension is disabled by the <b>-A</b> switch.


<a name="binary_constants"><h2>Binary integer constants</h2></a>

	Constants beginning with the characters 0b are taken to be binary 
	constants. Only the digits 0 and 1 are valid within a binary constant. 
	For example, 0b1101 is a binary integer constant. 


<a name="seh"><h2>Win32 Structured Exception Handling</h2></a>

	The __try, __except, and __finally extended syntax to handle
	Win32 structured exception handling (SEH) is supported.
	Do not use both C++ and SEH in the same function.

<br><br><br><br>

</td></table>






<div id="copyright">
Copyright &copy; 1999-2006 by Digital Mars, All Rights Reserved |
Page generated by <a href="http://www.digitalmars.com/d/ddoc.html">Ddoc</a>.
</div>

</body>
</html>

