
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>

<!--
	Copyright (c) 1999-2006 by Digital Mars
	All Rights Reserved
	Written by Walter Bright
	www.digitalmars.com
  -->

<head>
<META http-equiv="content-type" content="text/html; charset=utf-8">
<title>Digital Mars - Runtime Library - time / utime</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
<div id="heading">
<a href="http://www.digitalmars.com/" target="_top"><IMG SRC="dmlogo.gif" BORDER=0 WIDTH=270 HEIGHT=53 ALT="www.digitalmars.com"></a>

<a href="http://www.digitalmars.com/" title="www.digitalmars.com">Home</a>
| <a href="../advancedsearch.html" title="Search Digital Mars web site">Search</a>
| <a href="../ctg/ctg.html" title="Compiler & Tools Guide">CTG</a>
| <a href="../rtl/rtl.html" title="Runtime Library Reference">RTL</a>
| <a href="../ugr/ugr.html" title="IDDE Reference">IDDE</a>
| <a href="../stl/index.html" title="Standard Template Library">STL</a>
| <a href="http://www.digitalmars.com/download/freecompiler.html" title="download C & C++ compiler">C/C++ Compiler</a>
| <a href="http://www.digitalmars.com/d/" title="D Programming Language">D</a>

	<div id="lastupdate">Last update Fri Apr 28 16:28:16 2006
</div>
</div>

<!-- Generated by Ddoc from time.d -->



<table border=1 cellpadding=8 cellspacing=0 frame="void" summary="this table is for layout only">
<tr>
<td valign="top" class="toc" nowrap>
<small>
<center>
<form method="get" action="http://www.google.com/search">
<input id="q" name="q" size="10" value="RTL Search" onFocus='if(this.value == "RTL Search"){this.value="";}'>
<input type="hidden" id="domains" name="domains" value="www.digitalmars.com">
<input type="hidden" id="sitesearch" name="sitesearch" value="www.digitalmars.com/rtl">
<input type="hidden" id="sourceid" name="sourceid" value="google-search">
<input type="submit" id="submit" name="submit" value="Go">
</form>

    <a href="rtl.html"><b>Runtime Library<br>Reference</b></a><br><br>
</center>

    &#183; <a href="constants.html">Constants</a><br>
    &#183; <a href="datatypes.html">Data types</a><br>

<hr><b>Standard C</b><br>

    &#183; <a href="assert.html">assert.h</a><br>
    &#183; <a href="complex.html">complex.h</a><br>
    &#183; <a href="ctype.html" title="character classification">ctype.h</a><br>
    &#183; <a href="fenv.html">fenv.h</a><br>
    &#183; <a href="float.html">float.h</a><br>
    &#183; <a href="locale.html">locale.h</a><br>
    &#183; <a href="math.html" title="math and trig">math.h</a><br>
    &#183; <a href="setjmp.html">setjmp.h</a><br>
    &#183; <a href="signal.html">signal.h</a><br>
    &#183; <a href="stdarg.html">stdarg.h</a><br>
    &#183; <a href="stddef.html">stddef.h</a><br>
    &#183; <a href="stdio.html">stdio.h</a><br>
    &#183; <a href="stdlib.html">stdlib.h</a><br>
    &#183; <a href="string.html">string.h</a><br>
    &#183; <a href="time.html">time.h</a><br>
    <br>

<hr><b>Standard C++</b><br>
    &#183; <a href="iostream.html">IOstream</a><br>
    &#183; <a href="new.html">new</a><br>
    <br>

<hr><b>Win32</b><br>
    &#183; <a href="gc.html" title="Hans Boehm garbage collector">gc.h</a><br>
    <br>

<hr><b>DOS, DOS32, Win16</b><br>
    &#183; <a href="bios.html" title="interface to BIOS API">bios.h</a><br>
    &#183; <a href="cerror.html" title="critical errors">cerror.h</a><br>
    &#183; <a href="disp.html" title="direct access to video display">disp.h</a><br>
    &#183; <a href="dos.html" title="interface to DOS API">dos.h</a><br>
    &#183; <a href="dos2.html">dos.h part 2</a><br>
    &#183; <a href="emm.html" title="expanded memory">emm.h</a><br>
    &#183; <a href="handle.html" title="handle pointers">handle.h</a><br>
    &#183; <a href="int.html" title="interrupt functions">int.h</a><br>
    &#183; <a href="msmouse.html" title="DOS mouse functions">msmouse.h</a><br>
    &#183; <a href="sound.html" title="interface to PC speaker">sound.h</a><br>
    &#183; <a href="swap.html">swap.h</a><br>
    &#183; <a href="tsr.html" title="Terminate Stay Resident functions">tsr.h</a><br>
    &#183; <a href="winio.html" title="Andrew Schulman's winio library">winio.h</a><br>
    <br>

<hr><b>Other C</b><br>
    &#183; <a href="bitops.html" title="access to CPU bit instructions">bitops.h</a><br>
    &#183; <a href="conio.html" title="console I/O">conio.h</a><br>
    &#183; <a href="controlc.html" title="control C">controlc.h</a><br>
    &#183; <a href="direct.html" title="directories">direct.h</a><br>
    &#183; <a href="fltpnt.html">fltpnt.h</a><br>
    &#183; <a href="io.html" title="low level file I/O">io.h</a><br>
    &#183; <a href="page.html" title="suballocate blocks of memory">page.h</a><br>
    &#183; <a href="process.html">process.h</a><br>
    &#183; <a href="search.html">search.h</a><br>
    &#183; <a href="sys-stat.html">sys\stat.h</a><br>
    &#183; <a href="tabsize.html">tabsize.h</a><br>
    &#183; <a href="../ctg/trace.html" title="Trace Dynamic Profiling">trace.h</a><br>
    &#183; <a href="time.html">utime.h</a><br>
    &#183; <a href="unmangle.html">unmangle.h</a><br>
    &#183; <a href="util.html">util.h</a><br>
    <br>

<hr><b>Other C++</b><br>
    &#183; <a href="regexp.html" title="regular expressions">regexp.h</a><br>
    &#183; <a href="oldcomplex.html">class complex</a><br>
    <br>

</small>

<hr>

</td>
<td valign="top">


<h1>time.h / utime.h</h1>

<ul>
	<li><a href="#_daylight"><b>_daylight</b></a>
	<li><a href="#difftime"><b>difftime</b></a>
	<li><a href="#_ftime"><b>_ftime</b></a>
	<li><a href="#_strdate"><b>_strdate</b></a>
	<li><a href="#_timezone"><b>_timezone</b></a>
	<li><a href="#_tzname"><b>_tzname</b></a>
	<li><a href="#_tzset"><b>_tzset</b></a>
	<li><a href="#_utime"><b>_utime</b></a>
	<li><a href="#asctime"><b>asctime</b></a>
	<li><a href="#clock"><b>clock</b></a>
	<li><a href="#ctime"><b>ctime</b></a>
	<li><a href="#gmtime"><b>gmtime</b></a>
	<li><a href="#localtime"><b>localtime</b></a>
	<li><a href="#mktime"><b>mktime</b></a>
	<li><a href="#msleep"><b>msleep</b></a>
	<li><a href="#sleep"><b>sleep</b></a>
	<li><a href="#strftime"><b>strftime</b></a>
	<li><a href="#time"><b>time</b></a>
	<li><a href="#usleep"><b>usleep</b></a>
</ul>

<!-- =========================================== -->

<hr> <h2><a name="_daylight">_daylight</a></h2><dl> 

<dt><b>Header</b></dt> <dd>time.h 
</dd>


<dt><b>Prototype</b></dt> <dd><tt>extern int _daylight; 
</tt></dd>


<dt><b>Description</b></dt> <dd>This variable is used in the time functions. It is set to non-zero by _tzset if
a daylight savings time zone is specified in the TZ environment variable,
otherwise it is set to zero. The default is 1.
</dd>


<dt><b>Synonym</b></dt> <dd>Variable: daylight
</dd>


<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>


<dt><b>See Also</b></dt> <dd><a href="#_tzset">_tzset</a>
</dd>
 </dl>


<!-- =========================================== -->

<hr> <h2><a name="difftime">difftime</a></h2><dl> 

<dt><b>Header</b></dt> <dd>time.h
</dd>


<dt><b>Prototype</b></dt> <dd><tt>double difftime (time_t time2, time_t time1); 
</tt></dd>


<dt><b>Description</b></dt> <dd>difftime subtracts time1 from time2 to calculate the time
elapsed between time1 and time2. The value is calculated in
seconds elapsed. The arguments are normally obtained by two calls
to the <a href="#time">time</a> function.
</dd>


<dt><b>Return Value</b></dt> <dd>Returns the difference between time1 and time2 in seconds.
</dd>


<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>


<dt><b>See Also</b></dt> <dd><a href="#asctime">asctime</a><br>
<a href="#clock">clock</a><br>
<a href="#ctime">ctime</a><br>
<a href="#gmtime">gmtime</a><br>
<a href="#localtime">localtime</a><br>
<a href="#mktime">mktime</a><br>
<a href="#time">time</a>
</dd>


<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for difftime 
	Also demonstrates time 
*/ 
#include &lt;stdio.h&gt; 
#include &lt;stdlib.h&gt; 
#include &lt;time.h&gt; 

void main() 
{   
   int count; 
   time_t start, finish; 

   time (&amp; start); 

   for (count = 1; count &lt;= 5000; count++) 
   {   
     printf ("%d\r", count); 
   } 

   time (&amp; finish); 

   printf("\nCounting to 5000 took %.2f seconds",
	difftime (finish, start)); 
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">5000
Counting to 5000 took 3.00 seconds
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="_ftime">_ftime</a></h2><dl> 

<dt><b>Header</b></dt> <dd>sys\timeb.h 
</dd>


<dt><b>Prototype</b></dt> <dd><tt>void _ftime(struct _timeb *timeptr); 
</tt></dd>


<dt><b>Description</b></dt> <dd>The _ftime function gets the current time and copies it to the 
structure pointed to by the timeptr argument. Fields of the 
_timeb structure are:<p>
<dl>
<dt>time 
<dd>The current time in seconds in time_t format. 
<dt>millitm 
<dd>The current fraction of a second in milliseconds. 
<dt>timezone 
<dd>The difference in minutes between local time 
and Greenwich Mean Time. 
<dt>dstflag 
<dd>Nonzero if daylight savings time is currently in 
effect for this time zone. 
</dl>
</dd>


<dt><b>Synonym</b></dt> <dd>Function: ftime Structure: timeb 
</dd>


<dt><b>Return Value</b></dt> <dd>None
</dd>


<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>


<dt><b>See Also</b></dt> <dd><a href="#asctime">asctime</a><br>
<a href="#ctime">ctime</a><br>
<a href="#time">time</a><br>
<a href="#_tzset">_tzset</a>
</dd>


<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example program for _ftime */ 

#include &lt;stdlib.h&gt; 
#include &lt;stdio.h&gt; 
#include &lt;time.h&gt;
#include &lt;sys\timeb.h&gt;

void main () 
{   
   struct timeb t; 

   putenv ("TZ= PST8PDT"); 
   tzset (); 
   ftime(&amp; t); 
   printf("The difference between local time and GMT is %d minutes\n", 
	     t.timezone); 
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">The difference between local time and GMT is 480 minutes
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="_strdate">_strdate</a></h2><dl> 

<dt><b>Header</b></dt> <dd>time.h
</dd>


<dt><b>Prototype</b></dt> <dd><tt>char *_strdate(char *datestr); 
</tt></dd>


<dt><b>Description</b></dt> <dd>The _strdate function converts the current date to a null-terminated 
string and stores it in the buffer pointed to by the datestr argument. The date
string has the following format:<p> 

mm/dd/yy<p>

where mm represents the month (01 for January), dd represents the 
day (01 for the first), and yy indicates the year (93 for 1993). 
</dd>


<dt><b>Return Value</b></dt> <dd>A pointer to the date string. 
</dd>


<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>


<dt><b>See Also</b></dt> <dd><a href="#_strtime">_strtime</a><br>
<a href="#time">time</a>
</dd>


<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example of _strdate 
	Also demonstrates _strtime 
*/ 

#include &lt;stdio.h&gt; 
#include &lt;stdlib.h&gt; 
#include &lt;time.h&gt; 

void main () 
{   
   char datestr[9], timestr[9]; 

   _strdate(datestr); 
   _strtime(timestr); 

   printf("The current date and time is %s on %s\n", timestr, datestr); 
} 
</pre>
</dd>


<dt><b>Output</b></dt> <dd><pre class="console">The current date and time is 11:07:58 on 06/23/94
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="_timezone">_timezone</a></h2><dl> 

<dt><b>Header</b></dt> <dd>time.h 
</dd>


<dt><b>Prototype</b></dt> <dd><tt>extern long _timezone; 
</tt></dd>


<dt><b>Description</b></dt> <dd>This variable provides the difference in seconds between local time 
and Coordinated Universal Time. The default is 28, 000 seconds. 
</dd>


<dt><b>Synonym</b></dt> <dd>Variable: timezone 
</dd>


<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

 </dl>



<!-- =========================================== -->

<hr> <h2><a name="_tzname">_tzname</a></h2><dl> 

<dt><b>Header</b></dt> <dd>time.h
</dd>


<dt><b>Prototype</b></dt> <dd><tt>extern char *_tzname[2]; 
</tt></dd>


<dt><b>Description</b></dt> <dd>This variable is an array of two strings containing the following time 
zone names, whose string values are derived from the TZ 
environment variable:<br>

<pre class="ccode">tzname[0] 	Three-letter time zone name. 
tzname[1] 	Three-letter daylight savings time zone name,
		or empty string if TZ omits daylight savings
		time zone. 
</pre>
</dd>


<dt><b>Synonym</b></dt> <dd>Variable:  tzname
</dd>


<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

 </dl>



<!-- =========================================== -->

<hr> <h2><a name="_tzset">_tzset</a></h2><dl> 

<dt><b>Header</b></dt> <dd>time.h
</dd>


<dt><b>Prototype</b></dt> <dd><tt>void _tzset(void); 
</tt></dd>


<dt><b>Description</b></dt> <dd>The _tzset function uses the current setting of the TZ environment 
variable to set global variables: _daylight, _timezone, and 
_tzname. These variables are used by the _ftime, localtime, 
and time functions.<p>

To set the TZ environment variable from DOS, use the command:<p>

set TZ = tzn[+ | -] hh[:mm[:ss]]][dzn]<p>

tzn represents a time zone, such as PST (Pacific Standard Time) or 
EST (Easter Standard Time).hh represents an offset, in hours, from 
the UTC (Coordinated Universal Time). The hours can be followed by 
minutes and seconds (mm and ss). The dzn represents daylight 
savings time zone, such as PDT (Pacific Daylight Time).<p>

When _tzset is called, the following values are assigned to 
_daylight, _timezone, and _tzname:<p>

<dl>
<dt>_daylight <dd>receives a non-zero value if a daylight-saving-
time zone is specified in the TZ variable; otherwise 
receives zero.

<dt>_timezone <dd>receives the difference, in seconds, between 
UTC and local time

<dt>_tzname <dd>receives the string value of the daylight-saving-time 
zone or an empty string if this zone is omitted. 
</dl>
</dd>


<dt><b>Synonym</b></dt> <dd>Function: tzset<br>
Variables: timezone, daylight, tzname 
</dd>


<dt><b>Return Value</b></dt> <dd>None
</dd>


<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>


<dt><b>See Also</b></dt> <dd><a href="#asctime">asctime</a><br>
<a href="#_ftime">_ftime</a><br>
<a href="#localtime">localtime</a><br>
<a href="#time">time</a>
</dd>


<dt><b>Example</b></dt> <dd><pre class="ccode">    /* 	Example program for _tzset */ 
    
    #include &lt;stdlib.h&gt;
    #include &lt;stdio.h&gt;
    #include &lt;time.h&gt;

    void main () 
    {   
       time_t curtime; 
    
       putenv ("TZ= PST8PDT"); 
       tzset (); 
       time (&amp; curtime); 
       printf ("Current time is %s\n", 
		 asctime(localtime(&curtime))); 
    } 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">Current time is Fri Jun 24 15:04:49 1994
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="_utime">_utime</a></h2><dl> 

<dt><b>Header</b></dt> <dd>sys\types.h<br>
sys\utime.h 
</dd>


<dt><b>Prototype</b></dt> <dd><tt>int _utime(char *filename, struct _utimbuf *times); 
</tt></dd>


<dt><b>Description</b></dt> <dd>The _utime function changes the modified time associated with the 
file specified by the filename argument. The times argument 
contains the new time to be applied to the file.<p>

The times argument is a pointer to a _utimbuf structure, defined 
in sys\utime.h as:<p>

time_t actime;<br>
time_t modtime;<p>

Although the structure contains a field for access time, only the 
modification time is set with DOS.<p>

If the times argument is <b>NULL</b>, the current time will be used. 
</dd>


<dt><b>Return Value</b></dt> <dd>_utime returns a 0 on success. If an error occurrs, -1 is returned and 
errno is set to EACCES (path name specifies directory or read-only 
file), EINVAL (invalid argument), EMFILE (too many open files), or 
ENOENT (file or path name not found). 
</dd>


<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>


<dt><b>See Also</b></dt> <dd><a href="#time">time</a>
</dd>


<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for _utime */ 

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt; 
#include &lt;sys\utime.h&gt;

void main (int argc, char *argv[]) 
{   
   if (argc != 2) 
   {   
      printf ("Usage: _utime [filename.ext]\n"); 
      exit (EXIT_FAILURE); 
   } 
   if (_utime (argv[1], NULL) == -1) 
   {   
      perror ("Unable to update file"); 
      exit (EXIT_FAILURE); 
   } 
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">C:\DMC\EXAMPLES&gt; dir _utime.exe 

Volume in drive C is DIGIMARS 
Volume Serial Number is 1CD4-5ECB 
Directory of C:\DMC\EXAMPLES 

_UTIME EXE 		14,084 	06-27-94 11:02a 

	1 file(s) 		14,084 bytes 
			   100,917,248 bytes free 

C:\DMC\EXAMPLES&gt; _utime _utime.exe 

C:\DMC\EXAMPLES&gt; dir _utime.exe 

Volume in drive C is DIGIMARS 
Volume Serial Number is 1CD4-5ECB 
Directory of C:\DMC\EXAMPLES 

_UTIME EXE 		14,084 	06-27-94 11:10a 

	1 file(s) 		14,084 bytes 
			   100,917,248 bytes free 
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="asctime">asctime</a></h2><dl> 

<dt><b>Header</b></dt> <dd>time.h 
</dd>


<dt><b>Prototype</b></dt> <dd><tt>char *asctime(const struct tm *ntime); 
</tt></dd>


<dt><b>Description</b></dt> <dd>asctime converts a time structure into an ASCII string of 26<br>
characters including the null having the form of:<p>

DDD MMM dd hh:mm:ss YYYY\n\0 <p>

<table border=1 cellspacing=0 cellpadding=5><tr><th>Where... <th>represents...
<tr><td>DDD 				 
<td>day of the week 
<tr><td>MMM 				
<td>month 
<tr><td>dd 				 
<td>day of the month 
<tr><td>hh:mm:ss 	 		
<td>hour:minutes:seconds 
<tr><td>YYYY                         
<td>year 
</table>

<p>

The method of obtaining the time is to first call the time function to get the
number of seconds elapsed since 00:00:00 GMT on January 1, 1968. This is passed
as an argument to the localtime function which returns a pointer to the
structure tm as defined in time.h.  This is then used as the ntime argument to
asctime. 
</dd>


<dt><b>Return Value</b></dt> <dd>Returns a pointer to a character string containing the date and time.  The
string is static and is overwritten with each call to asctime. 
</dd>


<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>


<dt><b>See Also</b></dt> <dd><a href="#clock">clock</a><br>
<a href="#ctime">ctime</a><br>
<a href="#difftime">difftime</a><br>
<a href="#localtime">localtime</a>
</dd>


<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example of asctime 
	Also demonstrates localtime 
*/ 
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt; 
#include &lt;time.h&gt;

void main() 
{   
   time_t encoded_time; 
   struct tm *decoded_time; 
   char* time_string;

   encoded_time = time(NULL); 
   decoded_time = localtime(&encoded_time); 
   time_string = asctime(decoded_time); 

   printf ("Current date and time: %s\n", 
	     time_string); 
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd>The output will be similar to:

<pre class="console">
Current date and time: Mon Jun 20 14:26:25 1994
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="clock">clock</a></h2><dl> 

<dt><b>Header</b></dt> <dd>time.h
</dd>


<dt><b>Prototype</b></dt> <dd><tt>clock_t clock(void) 
</tt></dd>


<dt><b>Description</b></dt> <dd>The clock function determines the time elapsed since the calling program
started, in hundreths of a second. clock estimates the time elapsed using the
system clock; it is only as accurate as the system clock. For example, the IBM
PC timer granularity is 1/18th of a second, so the value returned by clock is
accurate to 1/18th of a second despite a return value adjusted to hundreths of
a second.
</dd>


<dt><b>Return Value</b></dt> <dd>A clock_t value representing the time, in 1/100ths of a second, used thus far
by the calling program, where clock_t is a long integer. Divide the return value
by the constant CLOCKS_PER_SEC to estimate the time elapsed in seconds. If the
processor time used is unavailable or unrepresentable, -1 is returned.
</dd>


<dt><b>See Also</b></dt> <dd><a href="#asctime">asctime</a><br>
<a href="#ctime">ctime</a><br>
<a href="#difftime">difftime</a><br>
<a href="#localtime">localtime</a>
</dd>


<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>


<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for clock 	*/ 

#include &lt;stdio.h&gt; 
#include &lt;stdlib.h&gt; 
#include &lt;time.h&gt; 

void main() 
{   
   clock_t time_elapsed; 
   float time_in_seconds; 
   int count;

   for (count = 1; count &lt;= 5000; count++) 
   {   
      printf ("%d\r", count); 
   } 
   time_elapsed = clock(); 
   time_in_seconds = (float) time_elapsed / 
			CLOCKS_PER_SEC; 
   printf ("\nclock() returned %ld after 
	   counting to 5000\n", time_elapsed); 
   printf ("which is %. 2f seconds\n", 
	     time_in_seconds); 
}
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">5000 
clock() returned 2530 after counting to 5000
which is 2.53 seconds
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="ctime">ctime</a></h2><dl> 

<dt><b>Header</b></dt> <dd>time.h 
</dd>

<dt><b>Prototype</b></dt> <dd><tt>char *ctime(const time_t *ntime); 
</tt></dd>

<dt><b>Description</b></dt> <dd>Converts the calendar time (type time_t) pointed to by ntime to 
local time in the form of an ASCII string. It is equivalent to the 
function call asctime(localtime(ntime)). The time_t value 
ntime is normally obtained by a call to the time function, which 
returns the time elapsed since 00:00:00 on January 1, 1968. 
</dd>

<dt><b>Return Value</b></dt> <dd>Returns pointer to a static ASCII string of 26 characters. The string 
will be overwritten by each call to ctime. The string's form is:

<pre>
DDD MMM dd hh:mm:ss YYYY\n\0 
</pre>

Where:

<pre>
DDD		day of the week 
MMM		month 
dd		day of the month 
hh:mm:ss	hour:minutes:seconds 
YYYY		year 
</pre>
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#asctime">asctime</a><br>
<a href="#clock">clock</a><br>
<a href="#difftime">difftime</a><br>
<a href="#localtime">localtime</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* Example for ctime */ 
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;
void main()
{   
    time_t encoded_time;
    char *time_string; 

    time (&amp; encoded_time);
    time_string = ctime(&encoded_time); 
    printf("The current date and time: %s\n", time_string); 
}
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">The current date and time: Tue Jun 21 15:27:23 1994 
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="gmtime">gmtime</a></h2><dl> 

<dt><b>Header</b></dt> <dd>time.h
</dd>


<dt><b>Prototype</b></dt> <dd><tt>struct tm *gmtime(const time_t *timer); 
</tt></dd>


<dt><b>Description</b></dt> <dd>The gmtime function converts the value pointed to by argument 
timer to a structure, tm. The timer value is the time in seconds 
elapsed since midnight, January 1, 1968 (UTC).<p>

The tm structure stores the timer value in the following int fields:<p>

<table border=1 cellspacing=0 cellpadding=5><tr><th>Field <th>Value
<tr><td>tm_sec 
<td>Seconds 
<tr><td>tm_min 
<td>Minutes 
<tr><td>tm_hour 
<td>Hours (0-23) 
<tr><td>tm_mday 
<td>Day of month (1-31) 
<tr><td>tm_mon 
<td>Month (0-11; January = 0) 
<tr><td>tm_year 
<td>Year (current year minus 1900) 
<tr><td>tm_wday 
<td>Day of week (0-6; Sunday = 0) 
<tr><td>tm_yday 
<td>Day of year (0-365; January 1 = 0) 
<tr><td>tm_isdst 
<td>Always 0 for gmtime 
</table>

</dd>


<dt><b>Return Value</b></dt> <dd>A pointer to the structure. Returns <b>NULL</b> if timer is before midnight, 
January 1, 1968 UTC. 
</dd>


<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>


<dt><b>See Also</b></dt> <dd><a href="#asctime">asctime</a><br>
<a href="#ctime">ctime</a><br>
<a href="#_ftime">_ftime</a><br>
<a href="#localtime">localtime</a><br>
<a href="#mktime">mktime</a><br>
<a href="#time">time</a>
</dd>


<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for gmtime 
	Also demonstrates localtime 
*/ 

#include &lt;time.h&gt; 
#include &lt;stdio.h&gt;

void main () 
{   
    time_t the_time;

    time(&amp;the_time); 
    printf("Coordinated Universal Time is %s\n", 
	  asctime (gmtime (&amp;the_time))); 
    printf("Local Time is %s\n", 
	  asctime (localtime (&amp;the_time))); 
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">Coordinated Universal Time is Thu Jun 23 23:40:07 1994
Local Time is Thu Jun 23 16:40:07 1994 
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="localtime">localtime</a></h2><dl> 

<dt><b>Header</b></dt> <dd>time.h
</dd>


<dt><b>Prototype</b></dt> <dd><tt>struct tm *localtime(time_t *stime); 
</tt></dd>


<dt><b>Description</b></dt> <dd>localtime converts a time stored as a time_t value to the 
structure tm. The time_t value stime is the seconds elapsed since 
00:00:00 on January 1, 1968. This value can be obtained from the 
function time. localtime makes corrections for time zones and 
possible daylight savings time. The fields of the structure tm are:<br>

<pre class="ccode">struct tm { 
    int tm_sec, 		/* seconds 0.. 59*/ 
    int tm_min, 		/* minutes 0.. 59*/ 
    int tm_hour, 		/* hour of day 0.. 23*/ 
    int tm_mday, 		/* day of month 1.. 31*/ 
    int tm_mon, 		/* month 0.. 11*/ 
    int tm_year, 		/* years since 1900*/ 
    int tm_wday, 		/* day of week, 0.. 6 (Sun.. Sat)*/ 
    int tm_yday, 		/* day of year, 0.. 365*/ 
    int tm_isdst; 		/* &gt;0 if daylight savings time*/ 
				/* == 0 if not DST, &lt;0 don't know*/ 
    }; 
</pre>
</dd>


<dt><b>Return Value</b></dt> <dd>localtime returns a pointer to a static structure tm which is 
overwritten by each call to localtime. 
</dd>


<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>


<dt><b>See Also</b></dt> <dd><a href="#time">time</a><br>
<a href="#asctime">asctime</a><br>
<a href="#ctime">ctime</a><br>
<a href="#mktime">mktime</a>
</dd>


 </dl>



<!-- =========================================== -->

<hr> <h2><a name="mktime">mktime</a></h2><dl> 

<dt><b>Header</b></dt> <dd>time.h
</dd>


<dt><b>Prototype</b></dt> <dd><tt>time_t mktime(struct tm *ntime); 
</tt></dd>


<dt><b>Description</b></dt> <dd>Converts from struct tm to time_t, then converts the time_t value 
back to struct tm form in ntime. This has the effect of filling in 
any missing fields in ntime. 
</dd>


<dt><b>Return Value</b></dt> <dd>Time in seconds since 00:00:00 GMT on January 1, 1968 based on 
struct tm. 
</dd>


<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>


<dt><b>See Also</b></dt> <dd><a href="#asctime">asctime</a><br>
<a href="#ctime">ctime</a><br>
<a href="#localtime">localtime</a><br>
<a href="#time">time</a>
</dd>


<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for mktime */ 

#include &lt;time.h&gt;
#include &lt;stdio.h&gt; 
#include &lt;stdlib.h&gt;

void main ()
{   
   struct tm ntime;
   time_t set; 

   time(&set); 
   ntime = *localtime (&amp;set); 
   printf ("Seconds since 1 Jan 1968 is %ld\n",
	     mktime(&amp;ntime)); 
   printf ("The time is %s\n", asctime(&amp;ntime));
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">Seconds since 1 Jan 1968 is 772236942
The time is Tue Jun 21 15:15:42 1994
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="msleep">msleep</a></h2><dl> 

<dt><b>Header</b></dt> <dd>time.h
</dd>


<dt><b>Prototype</b></dt> <dd><tt>void msleep(long milliseconds); 
</tt></dd>


<dt><b>Description</b></dt> <dd>Suspends execution of the program for the specified number of 
milliseconds. The granularity depends on the operating system. 
</dd>


<dt><b>Return Value</b></dt> <dd>None
</dd>


<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>


<dt><b>See Also</b></dt> <dd><a href="#sleep">sleep</a><br>
<a href="#usleep">usleep</a>
</dd>


<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for msleep */ 

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;

void main ()
{   
   printf("Going to sleep for 10 seconds\n");
   msleep(10000); 
   printf("OK, back again now\n");
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">Going to sleep for 10 seconds
OK, back again now
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="sleep">sleep</a></h2><dl> 

<dt><b>Header</b></dt> <dd>time.h
</dd>


<dt><b>Prototype</b></dt> <dd><tt>void sleep(time_t seconds); 
</tt></dd>


<dt><b>Description</b></dt> <dd>Suspends execution of a program for a specified number of seconds. 
</dd>


<dt><b>Return Value</b></dt> <dd>None
</dd>


<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>


<dt><b>See Also</b></dt> <dd><a href="#msleep">msleep</a><br>
<a href="#usleep">usleep</a>
</dd>


<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for sleep */ 

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt; 
#include &lt;time.h&gt;

void main () 
{   
   printf("Going to sleep for 10 seconds\n"); 
   sleep(10); 
   printf("OK, back again now\n"); 
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">Going to sleep for 10 seconds
OK, back again now
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="strftime">strftime</a></h2><dl> 


<dt><b>Header</b></dt> <dd>time.h
</dd>


<dt><b>Prototype</b></dt> <dd><tt>size_t <b>strftime</b>(char *s, size_t max, const char *format, const struct tm *timeptr); 
</tt></dd>


<dt><b>Description</b></dt> <dd><b>strftime</b> function inserts characters into the array pointed to 
by s, following instructions in the format string. The format should 
be a multi-byte character sequence, beginning and ending in its 
initial shift state.<p>

The format string consists of zero or more conversion specifications 
as well as ordinary multibyte characters. A conversion specification 
consists of a % character followed by a character that determines the 
conversion to be applied. All ordinary multi-byte characters 
(including the terminating null character) are copied unchanged into 
the array. No more than max characters are placed into the array.<p>

Each conversion specification is replaced by the appropriate 
characters, which are determined by the program's locale and by the 
values contained in the structure pointed to by timeptr. The 
following list shows how conversion specifications are replaced.<p>

<table border=1 cellspacing=0 cellpadding=5><tr><th> This... <th>is replaced by the...
<tr><td>%a 
<td>Locale's abbreviated weekday name. 
<tr><td>%A 
<td>Locale's full weekday name. 
<tr><td>%b 
<td>Locale's abbreviated month name. 
<tr><td>%B 
<td>Locale's full month name. 
<tr><td>%c 
<td>Appropriate date and time representation. 
<tr><td>%d 
<td>Day of the month as a decimal number (01-31). 
<tr><td>%H 
<td>Hour (24-hour clock) as a decimal number (00-23). 
<tr><td>%I 
<td>Hour (12-hour clock) as a decimal number (00-12). 
<tr><td>%j 
<td>Day of the year as a decimal number (001-366). 
<tr><td>%m 
<td>Month as a decimal number (01-12). 
<tr><td>%M 
<td>Minute as a decimal number (00-59). 
<tr><td>%p 
<td>Locale's equivalent of either AM or PM. 
<tr><td>%S 
<td>Second as a decimal number (00-60). 
<tr><td>%U 
<td>Week number of the year, with Sunday taken as the 
first day of the week, as a decimal number (00-53). 
<tr><td>%w 
<td>Weekday as a decimal number (0(Sunday)-6). 
<tr><td>%W 
<td>Week number of the year, with Monday taken as the 
first day of the week, as a decimal number (00-53). 
<tr><td>%x 
<td>Locale's appropriate date representation. 
<tr><td>%X 
<td>Locale's appropriate time representation. 
<tr><td>%y 
<td>Year (without century) as a decimal number (00-99). 
<tr><td>%Y 
<td>Year (with century) as a decimal number. 
<tr><td>%Z 
<td>Time zone name or by no characters if no time zone 
is determinable. 
<tr><td>%% 
<td>% 
</table>

</dd>


<dt><b>Return Value</b></dt> <dd>Returns the number of characters in the array pointed to by s, not 
including the terminating null character. If the total number of 
resulting characters, including the terminating null character, is 
greater than max, zero is returned, and the contents of the array 
become invalid. 
</dd>


<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>


<dt><b>See Also</b></dt> <dd><a href="#asctime">asctime</a><br>
<a href="#ctime">ctime</a><br>
<a href="#gmtime">gmtime</a><br>
<a href="#localtime">localtime</a><br>
<a href="#mktime">mktime</a><br>
<a href="#time">time</a>
</dd>


<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example of strftime */ 

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt; 
#include &lt;time.h&gt; 

void main() 
{   
   char dtstr[50]; 
   struct tm *tp; 
   time_t curtime; 

   <a href="#time">time</a>(&curtime); 
   tp = <a href="#localtime">localtime</a>(&amp;curtime); 
   <b>strftime</b>(dtstr, sizeof(dtstr), "%I:%M:%S %p on %A, %B %d, %Y", tp); 
   printf("The current time is: %s\n", dtstr); 
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">The current time is: 08:14:22 AM on Tuesday, June 28, 1994
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="time">time</a></h2><dl> 

<dt><b>Header</b></dt> <dd>time.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>time_t <b>time</b>(time_t *<i>timeptr</i>); 
</tt></dd>

<dt><b>Description</b></dt> <dd><b>time</b> returns the current time in seconds elapsed since 
00:00:00 GMT on January 1, 1968 and stores that value in *<i>timeptr</i> 
if <i>timeptr</i> is not <b>NULL</b>. 
</dd>

<dt><b>Return Value</b></dt> <dd><b>time</b> returns the number of seconds since 00:00:00 GMT on January 
1, 1968. This is the same value stored in *<i>timeptr</i>, if it is not <b>NULL</b>. 
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#ctime">ctime</a><br>
<a href="#asctime">asctime</a><br>
<a href="#localtime">localtime</a><br>
<a href="#mktime">mktime</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for time */ 

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt; 
#include &lt;time.h&gt;

void main() 
{   
   time_t curtime; 

   <b>time</b>(&amp;curtime); 
   printf("The time is: %s\n", <a href="#ctime">ctime</a>(&amp;curtime)); 
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">The time is: Fri Jun 24 11:55:55 1994
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="usleep">usleep</a></h2><dl> 

<dt><b>Header</b></dt> <dd>time.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>void <b>usleep</b>(unsigned long <i>microseconds</i>); 
</tt></dd>

<dt><b>Description</b></dt> <dd><b>usleep</b> suspends execution of the program for the specified number of 
<i>microseconds</i>. The granularity depends on the operating system. 
</dd>

<dt><b>Return Value</b></dt> <dd>None
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#sleep">sleep</a><br>
<a href="#msleep">msleep</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for usleep */ 

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt; 
#include &lt;time.h&gt;

void main () 
{   
   printf("Going to sleep for 10 seconds\n"); 
   <b>usleep</b>(10000000); 
   printf("OK, back again now\n"); 
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">Going to sleep for 10 seconds
OK, back again now
</pre>
</dd>
 </dl>



<br><br><br><br>

</td></table>




<div id="copyright">
Copyright &copy; 1997-2006 by Digital Mars, All Rights Reserved |
Page generated by <a href="http://www.digitalmars.com/d/ddoc.html">Ddoc</a>.
</div>

</body>
</html>

