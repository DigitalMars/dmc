
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>

<!--
	Copyright (c) 1999-2006 by Digital Mars
	All Rights Reserved
	Written by Walter Bright
	www.digitalmars.com
  -->

<head>
<META http-equiv="content-type" content="text/html; charset=utf-8">
<title>Digital Mars - Runtime Library - search.h
</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
<div id="heading">
<a href="http://www.digitalmars.com/" target="_top"><IMG SRC="dmlogo.gif" BORDER=0 WIDTH=270 HEIGHT=53 ALT="www.digitalmars.com"></a>

<a href="http://www.digitalmars.com/" title="www.digitalmars.com">Home</a>
| <a href="../advancedsearch.html" title="Search Digital Mars web site">Search</a>
| <a href="../ctg/ctg.html" title="Compiler & Tools Guide">CTG</a>
| <a href="../rtl/rtl.html" title="Runtime Library Reference">RTL</a>
| <a href="../ugr/ugr.html" title="IDDE Reference">IDDE</a>
| <a href="../stl/index.html" title="Standard Template Library">STL</a>
| <a href="http://www.digitalmars.com/download/freecompiler.html" title="download C & C++ compiler">C/C++ Compiler</a>
| <a href="http://www.digitalmars.com/d/" title="D Programming Language">D</a>

	<div id="lastupdate">Last update Fri Apr 28 16:28:15 2006
</div>
</div>

<!-- Generated by Ddoc from search.d -->



<table border=1 cellpadding=8 cellspacing=0 frame="void" summary="this table is for layout only">
<tr>
<td valign="top" class="toc" nowrap>
<small>
<center>
<form method="get" action="http://www.google.com/search">
<input id="q" name="q" size="10" value="RTL Search" onFocus='if(this.value == "RTL Search"){this.value="";}'>
<input type="hidden" id="domains" name="domains" value="www.digitalmars.com">
<input type="hidden" id="sitesearch" name="sitesearch" value="www.digitalmars.com/rtl">
<input type="hidden" id="sourceid" name="sourceid" value="google-search">
<input type="submit" id="submit" name="submit" value="Go">
</form>

    <a href="rtl.html"><b>Runtime Library<br>Reference</b></a><br><br>
</center>

    &#183; <a href="constants.html">Constants</a><br>
    &#183; <a href="datatypes.html">Data types</a><br>

<hr><b>Standard C</b><br>

    &#183; <a href="assert.html">assert.h</a><br>
    &#183; <a href="complex.html">complex.h</a><br>
    &#183; <a href="ctype.html" title="character classification">ctype.h</a><br>
    &#183; <a href="fenv.html">fenv.h</a><br>
    &#183; <a href="float.html">float.h</a><br>
    &#183; <a href="locale.html">locale.h</a><br>
    &#183; <a href="math.html" title="math and trig">math.h</a><br>
    &#183; <a href="setjmp.html">setjmp.h</a><br>
    &#183; <a href="signal.html">signal.h</a><br>
    &#183; <a href="stdarg.html">stdarg.h</a><br>
    &#183; <a href="stddef.html">stddef.h</a><br>
    &#183; <a href="stdio.html">stdio.h</a><br>
    &#183; <a href="stdlib.html">stdlib.h</a><br>
    &#183; <a href="string.html">string.h</a><br>
    &#183; <a href="time.html">time.h</a><br>
    <br>

<hr><b>Standard C++</b><br>
    &#183; <a href="iostream.html">IOstream</a><br>
    &#183; <a href="new.html">new</a><br>
    <br>

<hr><b>Win32</b><br>
    &#183; <a href="gc.html" title="Hans Boehm garbage collector">gc.h</a><br>
    <br>

<hr><b>DOS, DOS32, Win16</b><br>
    &#183; <a href="bios.html" title="interface to BIOS API">bios.h</a><br>
    &#183; <a href="cerror.html" title="critical errors">cerror.h</a><br>
    &#183; <a href="disp.html" title="direct access to video display">disp.h</a><br>
    &#183; <a href="dos.html" title="interface to DOS API">dos.h</a><br>
    &#183; <a href="dos2.html">dos.h part 2</a><br>
    &#183; <a href="emm.html" title="expanded memory">emm.h</a><br>
    &#183; <a href="handle.html" title="handle pointers">handle.h</a><br>
    &#183; <a href="int.html" title="interrupt functions">int.h</a><br>
    &#183; <a href="msmouse.html" title="DOS mouse functions">msmouse.h</a><br>
    &#183; <a href="sound.html" title="interface to PC speaker">sound.h</a><br>
    &#183; <a href="swap.html">swap.h</a><br>
    &#183; <a href="tsr.html" title="Terminate Stay Resident functions">tsr.h</a><br>
    &#183; <a href="winio.html" title="Andrew Schulman's winio library">winio.h</a><br>
    <br>

<hr><b>Other C</b><br>
    &#183; <a href="bitops.html" title="access to CPU bit instructions">bitops.h</a><br>
    &#183; <a href="conio.html" title="console I/O">conio.h</a><br>
    &#183; <a href="controlc.html" title="control C">controlc.h</a><br>
    &#183; <a href="direct.html" title="directories">direct.h</a><br>
    &#183; <a href="fltpnt.html">fltpnt.h</a><br>
    &#183; <a href="io.html" title="low level file I/O">io.h</a><br>
    &#183; <a href="page.html" title="suballocate blocks of memory">page.h</a><br>
    &#183; <a href="process.html">process.h</a><br>
    &#183; <a href="search.html">search.h</a><br>
    &#183; <a href="sys-stat.html">sys\stat.h</a><br>
    &#183; <a href="tabsize.html">tabsize.h</a><br>
    &#183; <a href="../ctg/trace.html" title="Trace Dynamic Profiling">trace.h</a><br>
    &#183; <a href="time.html">utime.h</a><br>
    &#183; <a href="unmangle.html">unmangle.h</a><br>
    &#183; <a href="util.html">util.h</a><br>
    <br>

<hr><b>Other C++</b><br>
    &#183; <a href="regexp.html" title="regular expressions">regexp.h</a><br>
    &#183; <a href="oldcomplex.html">class complex</a><br>
    <br>

</small>

<hr>

</td>
<td valign="top">

<h1>search.h</h1>

<ul>
	<li><a href="#_lfind"><b>_lfind</b></a>
	<li><a href="#_lsearch"><b>_lsearch</b></a>
</ul>


<!-- =========================================== -->

<hr> <h2><a name="_lfind">_lfind</a></h2><dl> 

<dt><b>Header</b></dt> <dd>search.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>void *_lfind(const void *key, const void *base, unsigned int *num, unsigned int width, int(__cdecl *compare) (const void *, const void *)); 
</tt></dd>

<dt><b>Description</b></dt> <dd>The _lfind function performs a linear search for the value key in 
the array pointed to by base. The array has num elements; each 
element has a size of width bytes.<p>

The compare argument is a pointer to a user-supplied routine that 
compares two array elements and returns a value specifying their 
relationship. A non-zero value indicates that the elements are 
different; 0 indicates that the elements are the same. 
</dd>

<dt><b>Synonym</b></dt> <dd>Function:  lfind
</dd>

<dt><b>Return Value</b></dt> <dd>A pointer to the first array element that matches key. If no match is 
found, NULL is returned. 
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#bsearch">bsearch</a><br>
<a href="#_lsearch">_lsearch</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example of _lfind */ 

#include &lt;stdio.h&gt; 
#include &lt;search.h&gt;

int compare (int *x, int *y) 
{   
   return (* x -*y); 
} 

void main () 
{   
   int array[5] = {44, 69, 3, 17, 23}; 
   size_t elems = 5; 
   int key = 69; 
   int *result; 

   result = (int *)_lfind (&amp; key, &array, &elems, 
	     sizeof (int), 
	     (int(*) (const void *, 
	     const void *)) compare); 
   if (result) 
      printf (" Key %d found in linear search\n", 
		key); 
   else 
      printf (" Key %d not found in linear 
		search\n", key); 
} 
</pre></dd>

<dt><b>Output</b></dt> <dd><pre class="console">Key 69 found in linear search 
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="_lsearch">_lsearch</a></h2><dl> 

<dt><b>Header</b></dt> <dd>search.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>void *_lsearch(const void *key, const void *base, unsigned int *num, unsigned int width, 
int (__cdecl *compare)(const void *, const void *)); 
</tt></dd>

<dt><b>Description</b></dt> <dd>The _lsearch functions performs a linear search for the value key 
in the array pointed to by base. The array has num elements; each 
element has a size of width bytes. If the key value is not found 
during the search, the lsearch function adds it to the end of the 
array, and *num is incremented by 1.<p>

The compare argument is a pointer to a user-supplied routine that 
compares two array elements and returns a value specifying their 
relationship. A non-zero value indicates that the elements are 
different; 0 indicates that the elements are the same. 
</dd>

<dt><b>Synonym</b></dt> <dd>Function:  lsearch
</dd>

<dt><b>Return Value</b></dt> <dd>A pointer to the first array element that matches key. If no match is 
found, the function returns a pointer to the newly added item at the 
end of the array. 
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#bsearch">bsearch</a><br>
<a href="#_lfind">_lfind</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example of _lsearch */ 

#include &lt;stdio.h&gt; 
#include &lt;stdlib.h&gt; 
#include &lt;string.h&gt; 
#include &lt;search.h&gt;

char *animals[10] = 
{   
   "Horse", 
   "Dog", 
   "Cat", 
   "Goat", 
   "Peacock" 
}; 

size_t elems = 5; 

int compare (char ** x, char ** y) 
{   
   return (strcmp(* x, *y)); 
} 

int addelem (char *key) 
{   
   size_t num = elems; 

   _lsearch (&amp; key, animals, &num, sizeof(char *), 
	      (int (*)(const void *, 
	      const void *)) compare); 
   return (elems == num); 
} 

void main () 
{   
   char *key = "Donkey"; 

   if (addelem (key)) 
      printf (" Animal \"%s\" already exists in 
		array\n", key); 
   else 
      printf ("\"%s\" added to animals array\n", key); 
} 
</pre></dd>

<dt><b>Output</b></dt> <dd><pre class="console">"Donkey" added to animals array 
</pre></dd>

 </dl>



<br><br><br><br>

</td></table>




<div id="copyright">
Copyright &copy; 1997-2006 by Digital Mars, All Rights Reserved |
Page generated by <a href="http://www.digitalmars.com/d/ddoc.html">Ddoc</a>.
</div>

</body>
</html>

