
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>

<!--
	Copyright (c) 1999-2006 by Digital Mars
	All Rights Reserved
	Written by Walter Bright
	www.digitalmars.com
  -->

<head>
<META http-equiv="content-type" content="text/html; charset=utf-8">
<title>Digital Mars - Runtime Library - conio.h</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
<div id="heading">
<a href="http://www.digitalmars.com/" target="_top"><IMG SRC="dmlogo.gif" BORDER=0 WIDTH=270 HEIGHT=53 ALT="www.digitalmars.com"></a>

<a href="http://www.digitalmars.com/" title="www.digitalmars.com">Home</a>
| <a href="../advancedsearch.html" title="Search Digital Mars web site">Search</a>
| <a href="../ctg/ctg.html" title="Compiler & Tools Guide">CTG</a>
| <a href="../rtl/rtl.html" title="Runtime Library Reference">RTL</a>
| <a href="../ugr/ugr.html" title="IDDE Reference">IDDE</a>
| <a href="../stl/index.html" title="Standard Template Library">STL</a>
| <a href="http://www.digitalmars.com/download/freecompiler.html" title="download C & C++ compiler">C/C++ Compiler</a>
| <a href="http://www.digitalmars.com/d/" title="D Programming Language">D</a>

	<div id="lastupdate">Last update Fri Apr 28 16:28:14 2006
</div>
</div>

<!-- Generated by Ddoc from conio.d -->



<table border=1 cellpadding=8 cellspacing=0 frame="void" summary="this table is for layout only">
<tr>
<td valign="top" class="toc" nowrap>
<small>
<center>
<form method="get" action="http://www.google.com/search">
<input id="q" name="q" size="10" value="RTL Search" onFocus='if(this.value == "RTL Search"){this.value="";}'>
<input type="hidden" id="domains" name="domains" value="www.digitalmars.com">
<input type="hidden" id="sitesearch" name="sitesearch" value="www.digitalmars.com/rtl">
<input type="hidden" id="sourceid" name="sourceid" value="google-search">
<input type="submit" id="submit" name="submit" value="Go">
</form>

    <a href="rtl.html"><b>Runtime Library<br>Reference</b></a><br><br>
</center>

    &#183; <a href="constants.html">Constants</a><br>
    &#183; <a href="datatypes.html">Data types</a><br>

<hr><b>Standard C</b><br>

    &#183; <a href="assert.html">assert.h</a><br>
    &#183; <a href="complex.html">complex.h</a><br>
    &#183; <a href="ctype.html" title="character classification">ctype.h</a><br>
    &#183; <a href="fenv.html">fenv.h</a><br>
    &#183; <a href="float.html">float.h</a><br>
    &#183; <a href="locale.html">locale.h</a><br>
    &#183; <a href="math.html" title="math and trig">math.h</a><br>
    &#183; <a href="setjmp.html">setjmp.h</a><br>
    &#183; <a href="signal.html">signal.h</a><br>
    &#183; <a href="stdarg.html">stdarg.h</a><br>
    &#183; <a href="stddef.html">stddef.h</a><br>
    &#183; <a href="stdio.html">stdio.h</a><br>
    &#183; <a href="stdlib.html">stdlib.h</a><br>
    &#183; <a href="string.html">string.h</a><br>
    &#183; <a href="time.html">time.h</a><br>
    <br>

<hr><b>Standard C++</b><br>
    &#183; <a href="iostream.html">IOstream</a><br>
    &#183; <a href="new.html">new</a><br>
    <br>

<hr><b>Win32</b><br>
    &#183; <a href="gc.html" title="Hans Boehm garbage collector">gc.h</a><br>
    <br>

<hr><b>DOS, DOS32, Win16</b><br>
    &#183; <a href="bios.html" title="interface to BIOS API">bios.h</a><br>
    &#183; <a href="cerror.html" title="critical errors">cerror.h</a><br>
    &#183; <a href="disp.html" title="direct access to video display">disp.h</a><br>
    &#183; <a href="dos.html" title="interface to DOS API">dos.h</a><br>
    &#183; <a href="dos2.html">dos.h part 2</a><br>
    &#183; <a href="emm.html" title="expanded memory">emm.h</a><br>
    &#183; <a href="handle.html" title="handle pointers">handle.h</a><br>
    &#183; <a href="int.html" title="interrupt functions">int.h</a><br>
    &#183; <a href="msmouse.html" title="DOS mouse functions">msmouse.h</a><br>
    &#183; <a href="sound.html" title="interface to PC speaker">sound.h</a><br>
    &#183; <a href="swap.html">swap.h</a><br>
    &#183; <a href="tsr.html" title="Terminate Stay Resident functions">tsr.h</a><br>
    &#183; <a href="winio.html" title="Andrew Schulman's winio library">winio.h</a><br>
    <br>

<hr><b>Other C</b><br>
    &#183; <a href="bitops.html" title="access to CPU bit instructions">bitops.h</a><br>
    &#183; <a href="conio.html" title="console I/O">conio.h</a><br>
    &#183; <a href="controlc.html" title="control C">controlc.h</a><br>
    &#183; <a href="direct.html" title="directories">direct.h</a><br>
    &#183; <a href="fltpnt.html">fltpnt.h</a><br>
    &#183; <a href="io.html" title="low level file I/O">io.h</a><br>
    &#183; <a href="page.html" title="suballocate blocks of memory">page.h</a><br>
    &#183; <a href="process.html">process.h</a><br>
    &#183; <a href="search.html">search.h</a><br>
    &#183; <a href="sys-stat.html">sys\stat.h</a><br>
    &#183; <a href="tabsize.html">tabsize.h</a><br>
    &#183; <a href="../ctg/trace.html" title="Trace Dynamic Profiling">trace.h</a><br>
    &#183; <a href="time.html">utime.h</a><br>
    &#183; <a href="unmangle.html">unmangle.h</a><br>
    &#183; <a href="util.html">util.h</a><br>
    <br>

<hr><b>Other C++</b><br>
    &#183; <a href="regexp.html" title="regular expressions">regexp.h</a><br>
    &#183; <a href="oldcomplex.html">class complex</a><br>
    <br>

</small>

<hr>

</td>
<td valign="top">


<h1>conio.h</h1>

	Console versions of common I/O functions. They bypass the stdin
	and stdout buffers and access the console directly.
	<p>

    <table width=850>
	<th align=left>Function
	<th align=left>Description
    <tr>
	<td><a href="#_kbhit"><b>_kbhit</b></a>
	<td> Determines if a keyboard key was pressed.
    <tr>
	<td><a href="#_ungetch"><b>_ungetch</b></a>
	<td>Puts a character back into the keyboard buffer.
    <tr>
	<td><a href="#_getch"><b>_getch</b></a>
	<td>Reads a character directly from the console, without echo.
    <tr>
	<td><a href="#_getche"><b>_getche</b></a>
	<td>Reads a character directly from the console, with echo.
    <tr>
	<td><a href="#_putch"><b>_putch</b></a>
	<td>Writes a character directly to the console.
    <tr>
	<td><a href="#_cgets"><b>_cgets</b></a>
	<td>Gets a string directly from the console.
    <tr>
	<td><a href="#_cprintf"><b>_cprintf</b></a>
	<td>Formats and prints a string directly to the console.
    <tr>
	<td><a href="#_cputs"><b>_cputs</b></a>
	<td>Outputs a string directly to the console.
    <tr>
	<td><a href="#_cscanf"><b>_cscanf</b></a>
	<td>Reads and formats values directly from the console.
    </table>
    <p>

<!-- =========================================== -->

<hr> <h2><a name="_kbhit">_kbhit</a></h2><dl> 

<dt><b>Header</b></dt> <dd>	conio.h<br>
	stdio.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>	int <b>_kbhit</b>(void);<br> 
	int <b>kbhit</b>(void);
</tt></dd>

<dt><b>Description</b></dt> <dd>	Checks if a keyboard key has been pressed but not yet read.
</dd>

<dt><b>Return Value</b></dt> <dd>	Returns a non-zero value if a key was pressed. Otherwise, returns 0. 
</dd>

<dt><b>Compatibility</b></dt> <dd>	DOS, Windows 3.x, Phar Lap, DOSX, Win32 
</dd>

<dt><b>See Also</b></dt> <dd>	<a href="#_getch">_getch</a><br>
	<a href="#_getche">_getche</a>
</dd>


<dt><b>Example</b></dt> <dd><pre class="ccode">/* Example of <b>_kbhit</b>() */ 

#include &lt;stdio.h&gt; 
#include &lt;conio.h&gt; 
#include &lt;stdlib.h&gt;

int main() 
{   
   printf("Hit any character key when ready\n"); 
   while (!<b>_kbhit</b>())
	;
   printf("\nThe key pressed was (%c)\n", _getch()); 
   return 0;
}
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">Hit any character key when ready
	 
The key pressed was (b) 
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="_ungetch">_ungetch</a></h2><dl> 

<dt><b>Header</b></dt> <dd>
conio.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>
int <b>_ungetch</b>(int <i>c</i>);<br>
int <b>ungetch</b>(int <i>c</i>); 
</tt></dd>

<dt><b>Description</b></dt> <dd><b>_ungetch</b> function puts the character <i>c</i> back into keyboard 
buffer, so that <i>c</i> will be the next character read by <b>_getch</b> or 
<b>_getche</b>. <b>_ungetch</b> can be called only once before the next read. 
</dd>

<dt><b>Return Value</b></dt> <dd> Returns <i>c</i> if successful. If unsuccessful, <b>EOF</b> is returned. 
</dd>

<dt><b>Compatibility</b></dt> <dd> DOS, Windows 3.x, Phar Lap, DOSX, Win32 
</dd>

<dt><b>See Also</b></dt> <dd> <a href="#_getch">_getch</a><br>
<a href="#_getche">_getche</a><br>
<a href="#ungetc">ungetc</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* Example for <b>_ungetch</b> */

#include &lt;stdio.h&gt;
#include &lt;conio.h&gt;
#include &lt;string.h&gt;
#include &lt;ctype.h&gt;

int main() 
{   
   int i = 0; 
   char c; 
   char str[128]; 
   printf("Enter an integer: ");
   while ((c = _getche()) != EOF &amp;&amp; isdigit(c)) 
      i = (i * 10) + (c - 48); 

   if ((c != EOF) &amp;&amp; (c != '\r')) 
      <b>ungetch</b>(c); 

   if (c != '\r') 
   {   
      gets(str);
      printf("The integer is %d, and the rest is \"%s\"\n", i, str); 
   } 
   else 
      printf("\nThe integer is %d", i); 
   return 0;
}
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">Enter an integer: 80 men are in a Roman Century
The integer is 80, and the rest is "men are in a Roman Century"
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="_getch">_getch</a></h2><dl> 

<dt><b>Header</b></dt> <dd>
conio.h<br>
stdio.h 
</dd>

<dt><b>Prototype</b></dt> <dd><tt>
int <b>_getch</b>(void); 
</tt></dd>

<dt><b>Description</b></dt> <dd>
<b>_getch</b> obtains a character from <b>stdin</b>. Input is unbuffered, 
and this routine will return as soon as a character is available without 
waiting for a carriage return. The character is not echoed to <b>stdout</b>. 
<b>_getch</b> bypasses the normal buffering done by <b>getchar</b> and
<b>getc</b>. 
<b>ungetc</b> cannot be used with <b>_getch</b>. 
</dd>

<dt><b>Synonym</b></dt> <dd>
Function:  <b>getch</b>
</dd>

<dt><b>Return Value</b></dt> <dd>
Returns the next character read and extended character codes, but 
never returns an error.
</dd>

<dt><b>Compatibility</b></dt> <dd>
DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd>
<a href="#getc">getc</a><br>
<a href="#getchar">getchar</a><br>
<a href="#_getche">_getche</a><br>
<a href="#putchar">putchar</a>
</dd>

<dt><b>Example</b></dt> <dd>
<pre class="ccode">/* 	Example for <b>_getch</b> */ 

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main() 
{   
   int input; 

   printf(" Press charcter key..."); 
   input = <b>_getch</b>(); 
   printf("\n'%c' was returned by _getch()\n", 
	  input); 
   return 0;
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd>
<pre class="console">Press charcter key...
'g' was returned by _getch()
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="_getche">_getche</a></h2><dl> 

<dt><b>Header</b></dt> <dd>
conio.h<br>
stdio.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>
int _getche(void); 
</tt></dd>

<dt><b>Description</b></dt> <dd>
The _getche function is the same as _getch except that the 
character being read is echoed to stdout. Like _getch, it bypass 
normal buffering done by getchar and getc. ungetc cannot be 
used with _getche. 
</dd>

<dt><b>Synonym</b></dt> <dd>Function:  getche
</dd>

<dt><b>Return Value</b></dt> <dd>
Returns the next character read but never returns an error. 
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#getc">getc</a><br>
<a href="#getchar">getchar</a><br>
<a href="#_getch">_getch</a><br>
<a href="#getchar">getchar</a><br>
<a href="#putc">putc</a><br>
<a href="#stdout">stdout</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for _getche */ 

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt; 

int main() 
{   
   int input; 

   printf(" Input a character: "); 
   input = _getche(); 
   printf("\n'%c' was returned by _getche()\n", 
	  input); 
   return 0;
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">Input a character: g
'g' was returned by _getche()
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="_putch">_putch</a></h2><dl> 

<dt><b>Header</b></dt> <dd>conio.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>int _putch(int c); 
</tt></dd>

<dt><b>Description</b></dt> <dd>The _putch function writes character c to the console, without 
buffering. 
</dd>

<dt><b>Synonym</b></dt> <dd>Function:  putch
</dd>

<dt><b>Return Value</b></dt> <dd>If successful, returns c. Otherwise, returns EOF. 
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#_cprintf">_cprintf</a><br>
<a href="#_getch">_getch</a><br>
<a href="#_getche">_getche</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example of _putch */ 

#include &lt;stdio.h&gt;
#include &lt;conio.h&gt;

int main()
{   
   char ch = 0; 
   printf(" Input a string: ");
   while ((ch != '\r')) 
   {
      ch = _getch(); 
      _putch(ch);
   } 
   return 0;
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">Input a string: The quick brown fox jumped over the lazy dog. 
</pre>
</dd>

 </dl>



<!-- =========================================== -->

<hr> <h2><a name="_cgets">_cgets</a></h2><dl> 

<dt><b>Header</b></dt> <dd>conio.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>char *_cgets(char *buffer); 
</tt></dd>

<dt><b>Description</b></dt> <dd>The _cgets function gets a character string from the console and stores it in
the character array pointed to by buffer. The array's first element, buffer[0],
must contain the maximum length, in characters, of the string to be read. The
array's second element, buffer[1], is where _cgets stores the string's actual
length _cgets reads characters until it reads the carriage-return/ line-feed
combination or the specifed maximum number of characters.
</dd>

<dt><b>Return Value</b></dt> <dd>A pointer to the start of the string at buffer[2]. Returns no error. 
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#_getch">_getch</a><br>
<a href="#_getche">_getche</a><br>
<a href="#_cprintf">_cprintf</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for _cgets 
	Also demonstrates _cprintf 

    _CGETS.C 
*/

#include &lt;conio.h&gt;

int main() 
{   
   char buffer[22], *return_value; 

   buffer[0] = sizeof (buffer) -2; 
   _cprintf(" Type something: "); 
   return_value = _cgets (buffer); 
   _cprintf("\n\rsize = %d\n\rbuffer = 
	     '%s'\n\rreturn value = '%s'\n\r", 
      buffer[1], buffer + 2, return_value); 
   return 0;
}
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">C:\dmc\examples&gt;_cgets 
Type something: This is something
size = 17
buffer = 'This is something'
return value = 'This is something'
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="_cprintf">_cprintf</a></h2><dl> 

<dt><b>Header</b></dt> <dd>conio.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>int _cprintf(const char *format, arg0,... argn); 
</tt></dd>

<dt><b>Description</b></dt> <dd>The _cfprint function writes formatted output to the console, using the function
_putch to output the characters. The format argument points to a null-terminated
string describing how to format the characters. The formatting commands for
converting the text to output are described in the fprintf function listing.
Optional arguments describe additional formatting information.
</dd>

<dt><b>Return Value</b></dt> <dd>The number of characters printed.
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#fprintf">fprintf</a><br>
<a href="#_putch">_putch</a><br>
<a href="#_cscanf">_cscanf</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for _cprintf 

	_CPRINTF.C 
*/ 

#include &lt;conio.h&gt;

int main() 
{   
  _cprintf(" 1. \\n works different for console I/O, it goes down:\n"); 
  _getch (); 
  _cprintf(" 2. \\r goes back:\r"); 
  _getch (); 
  _cprintf(" 3. \\r\\n goes down and back:\r\n"); 
  _getch (); 
  _cprintf(" 4. Like this."); 
   return 0;
}
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">C:\dmc\examples&gt;_cprintf
1. \n works different for console I/O, it goes down:
3. \r\n goes down and
back: 			      2. \r goes back: 
4. Like this.
</pre>
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="_cputs">_cputs</a></h2><dl> 

<dt><b>Header</b></dt> <dd>conio.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>int _cputs(const char *string); 
</tt></dd>

<dt><b>Description</b></dt> <dd>The _cputs function writes a null-terminated string to the console.
</dd>

<dt><b>Return Value</b></dt> <dd>0 if successful; non-zero if unsuccessful.
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#_putch">_putch</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for _cputs.c 
	SAY.C 
*/ 

#include &lt;conio.h&gt; 

int main(int argc, char *argv[]) 
{   
   int i;

   for (i = 1; i &lt; argc; i += 1) 
   {   
      _cputs (argv[i]); 
      _cputs (" "); 
   } 
   return 0;
}
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">C:\dmc\examples&gt; say Hello World!
Hello World!
</pre>
</dd>

 </dl>



<!-- =========================================== -->

<hr> <h2><a name="_cscanf">_cscanf</a></h2><dl> 

<dt><b>Header</b></dt> <dd>conio.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>int _cscanf(char *format, arg0,... argn); 
</tt></dd>

<dt><b>Description</b></dt> <dd>The _cscanf function reads input text directly from the console using the
_getche function to read the characters. The format argument points to a
null-terminated string that describes how to convert the input. The format for
converting the input is described in the fscanf function.
</dd>

<dt><b>Return Value</b></dt> <dd>The number of fields converted and assigned.
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#_cprintf">_cprintf</a><br>
<a href="#fscanf">fscanf</a><br>
<a href="#_getche">_getche</a><br>
<a href="#scanf">scanf</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for _cscanf and _cprintf 
*/

#include &lt;conio.h&gt;

int main() 
{   
   int a_number; 
   char a_string[20]; 

   _cprintf("Enter a number, then a string\n\r"); 
   _cscanf("%d %s", &a_number, a_string); 
   _cprintf("\nThe number was %d, the string was '%s'\n",
	a_number, a_string); 
   return 0;
}
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">Enter a number, then a string
1492 Ambidexterous
The number was 1492, the string was
'Ambidexterous'
</pre>
</dd>

 </dl>


<br><br><br><br>

</td></table>




<div id="copyright">
Copyright &copy; 1997-2006 by Digital Mars, All Rights Reserved |
Page generated by <a href="http://www.digitalmars.com/d/ddoc.html">Ddoc</a>.
</div>

</body>
</html>

