
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>

<!--
	Copyright (c) 1999-2006 by Digital Mars
	All Rights Reserved
	Written by Walter Bright
	www.digitalmars.com
  -->

<head>
<META http-equiv="content-type" content="text/html; charset=utf-8">
<title>Digital Mars - Runtime Library - direct.h
</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
<div id="heading">
<a href="http://www.digitalmars.com/" target="_top"><IMG SRC="dmlogo.gif" BORDER=0 WIDTH=270 HEIGHT=53 ALT="www.digitalmars.com"></a>

<a href="http://www.digitalmars.com/" title="www.digitalmars.com">Home</a>
| <a href="../advancedsearch.html" title="Search Digital Mars web site">Search</a>
| <a href="../ctg/ctg.html" title="Compiler & Tools Guide">CTG</a>
| <a href="../rtl/rtl.html" title="Runtime Library Reference">RTL</a>
| <a href="../ugr/ugr.html" title="IDDE Reference">IDDE</a>
| <a href="../stl/index.html" title="Standard Template Library">STL</a>
| <a href="http://www.digitalmars.com/download/freecompiler.html" title="download C & C++ compiler">C/C++ Compiler</a>
| <a href="http://www.digitalmars.com/d/" title="D Programming Language">D</a>

	<div id="lastupdate">Last update Fri Apr 28 16:28:14 2006
</div>
</div>

<!-- Generated by Ddoc from direct.d -->




<table border=1 cellpadding=8 cellspacing=0 frame="void" summary="this table is for layout only">
<tr>
<td valign="top" class="toc" nowrap>
<small>
<center>
<form method="get" action="http://www.google.com/search">
<input id="q" name="q" size="10" value="RTL Search" onFocus='if(this.value == "RTL Search"){this.value="";}'>
<input type="hidden" id="domains" name="domains" value="www.digitalmars.com">
<input type="hidden" id="sitesearch" name="sitesearch" value="www.digitalmars.com/rtl">
<input type="hidden" id="sourceid" name="sourceid" value="google-search">
<input type="submit" id="submit" name="submit" value="Go">
</form>

    <a href="rtl.html"><b>Runtime Library<br>Reference</b></a><br><br>
</center>

    &#183; <a href="constants.html">Constants</a><br>
    &#183; <a href="datatypes.html">Data types</a><br>

<hr><b>Standard C</b><br>

    &#183; <a href="assert.html">assert.h</a><br>
    &#183; <a href="complex.html">complex.h</a><br>
    &#183; <a href="ctype.html" title="character classification">ctype.h</a><br>
    &#183; <a href="fenv.html">fenv.h</a><br>
    &#183; <a href="float.html">float.h</a><br>
    &#183; <a href="locale.html">locale.h</a><br>
    &#183; <a href="math.html" title="math and trig">math.h</a><br>
    &#183; <a href="setjmp.html">setjmp.h</a><br>
    &#183; <a href="signal.html">signal.h</a><br>
    &#183; <a href="stdarg.html">stdarg.h</a><br>
    &#183; <a href="stddef.html">stddef.h</a><br>
    &#183; <a href="stdio.html">stdio.h</a><br>
    &#183; <a href="stdlib.html">stdlib.h</a><br>
    &#183; <a href="string.html">string.h</a><br>
    &#183; <a href="time.html">time.h</a><br>
    <br>

<hr><b>Standard C++</b><br>
    &#183; <a href="iostream.html">IOstream</a><br>
    &#183; <a href="new.html">new</a><br>
    <br>

<hr><b>Win32</b><br>
    &#183; <a href="gc.html" title="Hans Boehm garbage collector">gc.h</a><br>
    <br>

<hr><b>DOS, DOS32, Win16</b><br>
    &#183; <a href="bios.html" title="interface to BIOS API">bios.h</a><br>
    &#183; <a href="cerror.html" title="critical errors">cerror.h</a><br>
    &#183; <a href="disp.html" title="direct access to video display">disp.h</a><br>
    &#183; <a href="dos.html" title="interface to DOS API">dos.h</a><br>
    &#183; <a href="dos2.html">dos.h part 2</a><br>
    &#183; <a href="emm.html" title="expanded memory">emm.h</a><br>
    &#183; <a href="handle.html" title="handle pointers">handle.h</a><br>
    &#183; <a href="int.html" title="interrupt functions">int.h</a><br>
    &#183; <a href="msmouse.html" title="DOS mouse functions">msmouse.h</a><br>
    &#183; <a href="sound.html" title="interface to PC speaker">sound.h</a><br>
    &#183; <a href="swap.html">swap.h</a><br>
    &#183; <a href="tsr.html" title="Terminate Stay Resident functions">tsr.h</a><br>
    &#183; <a href="winio.html" title="Andrew Schulman's winio library">winio.h</a><br>
    <br>

<hr><b>Other C</b><br>
    &#183; <a href="bitops.html" title="access to CPU bit instructions">bitops.h</a><br>
    &#183; <a href="conio.html" title="console I/O">conio.h</a><br>
    &#183; <a href="controlc.html" title="control C">controlc.h</a><br>
    &#183; <a href="direct.html" title="directories">direct.h</a><br>
    &#183; <a href="fltpnt.html">fltpnt.h</a><br>
    &#183; <a href="io.html" title="low level file I/O">io.h</a><br>
    &#183; <a href="page.html" title="suballocate blocks of memory">page.h</a><br>
    &#183; <a href="process.html">process.h</a><br>
    &#183; <a href="search.html">search.h</a><br>
    &#183; <a href="sys-stat.html">sys\stat.h</a><br>
    &#183; <a href="tabsize.html">tabsize.h</a><br>
    &#183; <a href="../ctg/trace.html" title="Trace Dynamic Profiling">trace.h</a><br>
    &#183; <a href="time.html">utime.h</a><br>
    &#183; <a href="unmangle.html">unmangle.h</a><br>
    &#183; <a href="util.html">util.h</a><br>
    <br>

<hr><b>Other C++</b><br>
    &#183; <a href="regexp.html" title="regular expressions">regexp.h</a><br>
    &#183; <a href="oldcomplex.html">class complex</a><br>
    <br>

</small>

<hr>

</td>
<td valign="top">


<h1>direct.h</h1>

<ul>
	<li><a href="#_chdir"><b>_chdir</b></a>
	<li><a href="#_chdrive"><b>_chdrive</b></a>
	<li><a href="#_getcwd"><b>_getcwd</b></a>
	<li><a href="#_getdrive"><b>_getdrive</b></a>
	<li><a href="#_mkdir"><b>_mkdir</b></a>
	<li><a href="#_rmdir"><b>_rmdir</b></a>
	<li><a href="#fnmerge"><b>fnmerge</b></a>
	<li><a href="#fnsplit"><b>fnsplit</b></a>
	<li><a href="#searchpath"><b>searchpath</b></a>
</ul>

<!-- =========================================== -->

<hr> <h2><a name="_chdir">_chdir</a></h2><dl> 

<dt><b>Header</b></dt> <dd>direct.h<br>
errno.h (for error messages) 
</dd>

<dt><b>Prototype</b></dt> <dd><tt>int _chdir(char *path); 
</tt></dd>

<dt><b>Description</b></dt> <dd>The _chdir function changes the current directory to the one specified in the
path argument. path must be a valid directory. The function can change the
current working directory on any drive; however, it cannot change the default
drive itself. For example, if you specify a drive in the path argument, the
current directory on that drive is changed. However, until you use the _chdrive
function to change to the new drive, the default directory is the current
directory on the current drive.<p>

The path string is limited by DOS to 64 characters including the terminal '\0'.
</dd>

<dt><b>Synonym</b></dt> <dd>Function: chdir
</dd>

<dt><b>Return Value</b></dt> <dd>0 if successful. Otherwise, -1 is returned, _doserrno is set to the operating system error code, and errno is set to the corresponding standard error code.
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#_mkdir">_mkdir</a><br>
<a href="#_rmdir">_rmdir</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for _chdir 	*/

#include &lt;direct.h&gt; 
#include &lt;stdio.h&gt; 
#include &lt;stdlib.h&gt; 

void main() 
{   
   char changeto[64]; 
   int result; 

   printf ("Enter directory to change to :"); 
   scanf ("%s", changeto);

   result = _chdir(changeto);

   if (result != 0) 
      perror ("ERROR changing directory"); 
   else 
      printf ("Current directory now :%s\n", 
		changeto); 
}
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">Enter directory to change to :c:\windows
Current directory now :c:\windows

or
 
Enter directory to change to :c:\junk
ERROR changing directory: No such file or
directory
</pre>
</dd>
 </dl>



<!-- =========================================== -->

<hr> <h2><a name="_chdrive">_chdrive</a></h2><dl> 

<dt><b>Header</b></dt> <dd>direct.h 
</dd>

<dt><b>Prototype</b></dt> <dd><tt>int _chdrive(int drive); 
</tt></dd>

<dt><b>Description</b></dt> <dd>The _chdrive function changes the current drive to the drive specified in the
drive argument. To specify a drive, use an integer.  Value 1 indicates drive A,
2 indicates drive B, and so on. The _chdrive function changes only the working
drive; use _chdir to change the current working directory.
</dd>

<dt><b>Return Value</b></dt> <dd>If the drive is successfully changed, the function returns the value 0.
Otherwise, the function returns -1.
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#_chdir">_chdir</a><br>
<a href="#_dos_getdrive">_dos_getdrive</a><br>
<a href="# _dos_setdrive"> _dos_setdrive</a><br>
<a href="# _getdrive "> _getdrive </a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for _chdrive 	*/ 

#include &lt;direct.h&gt; 
#include &lt;stdio.h&gt; 
#include &lt;stdlib.h&gt; 

void main() 
{   
   if (_chdrive(2) == 0) 
      printf ("Changed to drive C:\n"); 
   else 
      perror("ERROR changing to drive C:"); 
}
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">Changed to drive C: 
</pre>
</dd>
 </dl>




<!-- =========================================== -->

<hr> <h2><a name="_getcwd">_getcwd</a></h2><dl> 

<dt><b>Header</b></dt> <dd>direct.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>char *_getcwd(char *buffer, size_t length); 
</tt></dd>

<dt><b>Description</b></dt> <dd>The _getcwd functions get the name of the current working 
directory and stores the drive and path name in buffer. The 
length argument specifies the maximum length of the path name 
(including the terminating null character.) If the current directory is 
root, the returned string will end with a backslash. Otherwise, the 
string will end with the directory name, not a backslash.<p>

If buffer is specified as NULL, _getcwd will allocate, using the 
malloc function, enough bytes to hold the path (including the 
terminating 0). At least length bytes will be allocated. To 
deallocate the buffer, use the free function. 
</dd>



<dt><b>Return Value</b></dt> <dd>Both functions return a pointer to buffer. A NULL return value 
indicates an error and errno is set to ENOMEM (insufficient memory 
to allocate length bytes) or ERANGE (path name longer than 
length characters). 
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#_getdcwd">_getdcwd</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for _getcwd */ 

#include &lt;stdio.h&gt; 
#include &lt;stdlib.h&gt; 
#include &lt;direct.h&gt;

void main () 
{   
   char path[_MAX_DIR]; 

   _getcwd (path, _MAX_DIR); 
   printf ("Current directory is: %s", path); 
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">Current directory is: C:\SC\EXAMPLES 
</pre>
</dd>
 </dl>




<!-- =========================================== -->

<hr> <h2><a name="_getdrive">_getdrive</a></h2><dl> 

<dt><b>Header</b></dt> <dd>direct.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>int _getdrive(void); 
</tt></dd>

<dt><b>Description</b></dt> <dd>The getdrive function returns the current drive number, where 1 
represents A, 2 represents B, and so on. 
</dd>

<dt><b>Synonym</b></dt> <dd>Function:  getdrive
</dd>

<dt><b>Return Value</b></dt> <dd>An integer representing the current drive number. Errors are not 
returned. 
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#_dos_getdrive">_dos_getdrive</a><br>
<a href="#_dos_getdrive">_dos_getdrive</a><br>
<a href="#_getdcwd">_getdcwd</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for _getdrive */ 

#include &lt;direct.h&gt; 
#include &lt;stdio.h&gt;

void main () 
{   
   int disk; 

   disk = _getdrive() + 'A' -1; 
   printf("The current drive is %c\n", disk); 
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">The current drive is C 
</pre>
</dd>
 </dl>




<!-- =========================================== -->

<hr> <h2><a name="_mkdir">_mkdir</a></h2><dl> 

<dt><b>Header</b></dt> <dd>direct.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>int _mkdir(const char *pathname);  
</tt></dd>

<dt><b>Description</b></dt> <dd>The _mkdir function creates a new directory as specified by the 
pathname argument. If pathname contains more than one directory 
component, only the last component may be new. All preceding 
components must refer to existing directories. 
</dd>

<dt><b>Synonym</b></dt> <dd>Function:  mkdir
</dd>

<dt><b>Return Value</b></dt> <dd>Returns a 0 if the directory was created successfully. Returns -1 if an 
error occurred, and errno is set to EACCES (directory not created; 
given name already exists) or ENOENT (path name not found). 
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#_rmdir">_rmdir</a><br>
<a href="#_chdir">_chdir</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example of _mkdir */ 

#include &lt;stdio.h&gt;
#include &lt;direct.h&gt;
#include &lt;stdlib.h&gt;

void main ()
{   
   int result;
   result = _mkdir("\\removeme"); 
   if (result == 0)
      printf("Directory \"\\removeme\"
	       created\n");
   else 
      printf("Could not create directory
	       \"\\removeme\"\n"); 
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">Directory "\removeme" created 
</pre>
</dd>
 </dl>




<!-- =========================================== -->

<hr> <h2><a name="_rmdir">_rmdir</a></h2><dl> 

<dt><b>Header</b></dt> <dd>direct.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>int _rmdir(const char *pathname); 
</tt></dd>

<dt><b>Description</b></dt> <dd>The _rmdir function deletes the directory specified by the 
pathname argument. The directory must be empty and cannot be 
the root directory or the current working directory. All the 
intermediate directories must also exist. 
</dd>

<dt><b>Synonym</b></dt> <dd>Function:  rmdir
</dd>

<dt><b>Return Value</b></dt> <dd>Both functions return a 0 if the directory was deleted. A return value 
of -1 indicates an error and errno is set to EACCES or ENOENT. 
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#_mkdir">_mkdir</a><br>
<a href="#_chdir">_chdir</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example of _rmdir */ 

#include &lt;stdio.h&gt;
#include &lt;direct.h&gt;
#include &lt;stdlib.h&gt;

void main ()
{   
   int result;
   char dir[_MAX_PATH]; 

   printf ("Enter the directory name: ");
   gets (dir); 

   result = _rmdir (dir);
   if (result != 0) 
   {
      perror ("Could not remove directory"); 
      exit (EXIT_FAILURE);
   } 

   printf ("Directory removed successfully\n");
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">Enter the directory name: temp
Directory removed successfully 
</pre>
</dd>
 </dl>



<!-- =========================================== -->

<hr> <h2><a name="fnmerge">fnmerge</a></h2><dl> 

<dt><b>Header</b></dt> <dd>direct.h 
</dd>

<dt><b>Prototype</b></dt> <dd><tt>void fnmerge(char *path, const char *drive,<br>
 const char *dir, const char *name, const char *ext);  
</tt></dd>

<dt><b>Description</b></dt> <dd>The fnmerge function builds a pathname by merging the 
components specified in the drive, dir, name, and ext 
arguments. The constructed pathname is stored in the location 
pointed to by the path argument.<p>

The MAXPATH constant, defined as 80 in direct.h, specifies the 
maximum length of the constructed path. 
</dd>

<dt><b>Return Value</b></dt> <dd>None
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#fnsplit">fnsplit</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for fnmerge 
	Also demonstrates fnsplit 
*/ 

#include &lt;direct.h&gt;
#include &lt;stdio.h&gt; 
#include &lt;dos.h&gt;

void main () 
{   
   char *filename, 
      path[MAXPATH], 
      drive[MAXDRIVE], 
      dir[MAXDIR], 
      file[MAXFILE], 
      ext[MAXEXT]; 

   fnsplit ("c:\\sc\\bin\\sc. exe", drive, dir, 
	      file, ext); 
   printf ("drive: %s\n" 
      "dir: %s\n"
      "filename: %s\n"
      "ext: %s\n", 
      drive, dir, file, ext); 
   fnmerge (path, drive, dir, file, ext); 
   printf (
      "path: %s\n", path); 
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">drive: c: dir: \sc\bin\
filename: sc ext: .exe
path: c:\sc\bin\sc.exe
</pre>
</dd>
 </dl>




<!-- =========================================== -->

<hr> <h2><a name="fnsplit">fnsplit</a></h2><dl> 

<dt><b>Header</b></dt> <dd>direct.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>int fnsplit(const char *path, char *drive, char *dir, char *name, char *ext); 
</tt></dd>

<dt><b>Description</b></dt> <dd>The fnsplit function splits the pathname pointed to by the path 
argument into its components. The function stores the pathname 
components in the locations specified by the drive, dir, name, 
and ext arguments. Each pathname component has a maximum 
size, which is set by a constant, defined in direct.h. The constants 
for the pathname components and their values are shown in the 
following table. (All lengths include the space for a null terminator.)<br>
<pre>
<b>Argument 	Constant 	Value</b>
path 		MAXPATH 	80 
drive 		MAXDRIVE 	3 (includes the colon) 
dir 		MAXDIR 		66 (includes leading and 
				trailing backslashes) 
name 		MAXFILE 	9 
ext 		MAXEXT 		5 (includes the leading dot) 
</pre>
</dd>

<dt><b>Return Value</b></dt> <dd>An integer that uses the following five flags to indicate the 
components that were present in the path argument:<p>
<dl>
<dt>EXTENSION 
<dd>An extension 
<dt>FILENAME 
<dd>A filename 
<dt>DIRECTORY 
<dd>A directory and associated subdirectories 
<dt>DRIVE 
<dd>A drive specification 
<dt>WILDCARDS 
<dd>Wildcards 
</dl>
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#fnmerge">fnmerge</a>
</dd>

<dt><b>Example</b></dt> <dd>See fnmerge
</dd>

 </dl>


<!-- =========================================== -->

<hr> <h2><a name="searchpath">searchpath</a></h2><dl> 

<dt><b>Header</b></dt> <dd>direct.h
</dd>

<dt><b>Prototype</b></dt> <dd><tt>char *searchpath(const char *file); 
</tt></dd>

<dt><b>Description</b></dt> <dd>The searchpath function searches the DOS path for the file 
specified in the file argument. First, the current directory is 
searched. Then each directory specified in the DOS path is searched. 
When the file is found, the full pathname is returned. 
</dd>

<dt><b>Return Value</b></dt> <dd>A pointer to the string containing the filename. If the file is not 
found, NULL is returned. 
</dd>

<dt><b>Compatibility</b></dt> <dd>DOS Windows 3.x Phar Lap DOSX Win32 
</dd>

<dt><b>See Also</b></dt> <dd><a href="#findfirst">findfirst</a><br>
<a href="#findnext">findnext</a>
</dd>

<dt><b>Example</b></dt> <dd><pre class="ccode">/* 	Example for searchpath */ 

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt; 
#include &lt;dir.h&gt;

void main ()
{   
   char *res; 

   res = searchpath ("DMC.EXE"); 

   if (strlen (res) == 0)
      printf ("DMC.EXE not found\n"); 
   else
      printf ("DMC.EXE found in %s\n", res); 
} 
</pre>
</dd>

<dt><b>Output</b></dt> <dd><pre class="console">DMC.EXE found in C:\DM\BIN\DMC.EXE 
</pre>
</dd>
 </dl>



<br><br><br><br>

</td></table>





<div id="copyright">
Copyright &copy; 1997-2006 by Digital Mars, All Rights Reserved |
Page generated by <a href="http://www.digitalmars.com/d/ddoc.html">Ddoc</a>.
</div>

</body>
</html>

