
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>

<!--
	Copyright (c) 1999-2006 by Digital Mars
	All Rights Reserved
	Written by Walter Bright
	www.digitalmars.com
  -->

<head>
<META http-equiv="content-type" content="text/html; charset=utf-8">
<title>Digital Mars - Runtime Library - locale.h
</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
<div id="heading">
<a href="http://www.digitalmars.com/" target="_top"><IMG SRC="dmlogo.gif" BORDER=0 WIDTH=270 HEIGHT=53 ALT="www.digitalmars.com"></a>

<a href="http://www.digitalmars.com/" title="www.digitalmars.com">Home</a>
| <a href="../advancedsearch.html" title="Search Digital Mars web site">Search</a>
| <a href="../ctg/ctg.html" title="Compiler & Tools Guide">CTG</a>
| <a href="../rtl/rtl.html" title="Runtime Library Reference">RTL</a>
| <a href="../ugr/ugr.html" title="IDDE Reference">IDDE</a>
| <a href="../stl/index.html" title="Standard Template Library">STL</a>
| <a href="http://www.digitalmars.com/download/freecompiler.html" title="download C & C++ compiler">C/C++ Compiler</a>
| <a href="http://www.digitalmars.com/d/" title="D Programming Language">D</a>

	<div id="lastupdate">Last update Fri Apr 28 16:28:14 2006
</div>
</div>

<!-- Generated by Ddoc from locale.d -->



<table border=1 cellpadding=8 cellspacing=0 frame="void" summary="this table is for layout only">
<tr>
<td valign="top" class="toc" nowrap>
<small>
<center>
<form method="get" action="http://www.google.com/search">
<input id="q" name="q" size="10" value="RTL Search" onFocus='if(this.value == "RTL Search"){this.value="";}'>
<input type="hidden" id="domains" name="domains" value="www.digitalmars.com">
<input type="hidden" id="sitesearch" name="sitesearch" value="www.digitalmars.com/rtl">
<input type="hidden" id="sourceid" name="sourceid" value="google-search">
<input type="submit" id="submit" name="submit" value="Go">
</form>

    <a href="rtl.html"><b>Runtime Library<br>Reference</b></a><br><br>
</center>

    &#183; <a href="constants.html">Constants</a><br>
    &#183; <a href="datatypes.html">Data types</a><br>

<hr><b>Standard C</b><br>

    &#183; <a href="assert.html">assert.h</a><br>
    &#183; <a href="complex.html">complex.h</a><br>
    &#183; <a href="ctype.html" title="character classification">ctype.h</a><br>
    &#183; <a href="fenv.html">fenv.h</a><br>
    &#183; <a href="float.html">float.h</a><br>
    &#183; <a href="locale.html">locale.h</a><br>
    &#183; <a href="math.html" title="math and trig">math.h</a><br>
    &#183; <a href="setjmp.html">setjmp.h</a><br>
    &#183; <a href="signal.html">signal.h</a><br>
    &#183; <a href="stdarg.html">stdarg.h</a><br>
    &#183; <a href="stddef.html">stddef.h</a><br>
    &#183; <a href="stdio.html">stdio.h</a><br>
    &#183; <a href="stdlib.html">stdlib.h</a><br>
    &#183; <a href="string.html">string.h</a><br>
    &#183; <a href="time.html">time.h</a><br>
    <br>

<hr><b>Standard C++</b><br>
    &#183; <a href="iostream.html">IOstream</a><br>
    &#183; <a href="new.html">new</a><br>
    <br>

<hr><b>Win32</b><br>
    &#183; <a href="gc.html" title="Hans Boehm garbage collector">gc.h</a><br>
    <br>

<hr><b>DOS, DOS32, Win16</b><br>
    &#183; <a href="bios.html" title="interface to BIOS API">bios.h</a><br>
    &#183; <a href="cerror.html" title="critical errors">cerror.h</a><br>
    &#183; <a href="disp.html" title="direct access to video display">disp.h</a><br>
    &#183; <a href="dos.html" title="interface to DOS API">dos.h</a><br>
    &#183; <a href="dos2.html">dos.h part 2</a><br>
    &#183; <a href="emm.html" title="expanded memory">emm.h</a><br>
    &#183; <a href="handle.html" title="handle pointers">handle.h</a><br>
    &#183; <a href="int.html" title="interrupt functions">int.h</a><br>
    &#183; <a href="msmouse.html" title="DOS mouse functions">msmouse.h</a><br>
    &#183; <a href="sound.html" title="interface to PC speaker">sound.h</a><br>
    &#183; <a href="swap.html">swap.h</a><br>
    &#183; <a href="tsr.html" title="Terminate Stay Resident functions">tsr.h</a><br>
    &#183; <a href="winio.html" title="Andrew Schulman's winio library">winio.h</a><br>
    <br>

<hr><b>Other C</b><br>
    &#183; <a href="bitops.html" title="access to CPU bit instructions">bitops.h</a><br>
    &#183; <a href="conio.html" title="console I/O">conio.h</a><br>
    &#183; <a href="controlc.html" title="control C">controlc.h</a><br>
    &#183; <a href="direct.html" title="directories">direct.h</a><br>
    &#183; <a href="fltpnt.html">fltpnt.h</a><br>
    &#183; <a href="io.html" title="low level file I/O">io.h</a><br>
    &#183; <a href="page.html" title="suballocate blocks of memory">page.h</a><br>
    &#183; <a href="process.html">process.h</a><br>
    &#183; <a href="search.html">search.h</a><br>
    &#183; <a href="sys-stat.html">sys\stat.h</a><br>
    &#183; <a href="tabsize.html">tabsize.h</a><br>
    &#183; <a href="../ctg/trace.html" title="Trace Dynamic Profiling">trace.h</a><br>
    &#183; <a href="time.html">utime.h</a><br>
    &#183; <a href="unmangle.html">unmangle.h</a><br>
    &#183; <a href="util.html">util.h</a><br>
    <br>

<hr><b>Other C++</b><br>
    &#183; <a href="regexp.html" title="regular expressions">regexp.h</a><br>
    &#183; <a href="oldcomplex.html">class complex</a><br>
    <br>

</small>

<hr>

</td>
<td valign="top">

<h1>locale.h</h1>

	<ul>
		<li><a href="#localeconv"><b>localeconv</b></a>
		<li><a href="#setlocale"><b>setlocale</b></a>
	</ul>
</ul>


<hr><!-- =========================================== -->

<a name="localeconv"><h2>localeconv</h2></a>

<font size=3><b>
Header
</b><p>
locale.h 
<p>

<b>
Prototype
</b><p>
struct lconv * localeconv(void); 
<p>

<b>
Description
</b><p>
localeconv returns a pointer to a filled-in struct lconv which 
contains information specific to the current country or locale. 
struct lconv looks like this:<br>
<pre>
struct lconv 
{ 
   char *decimal_point; 
   char *thousands_sep; 
   char *int_curr_symbol; 
   char *currency_symbol; 
   char *mon_decimal_point; 
   char *mon_thousands_sep; 
   char *negative_sign; 
   char frac_digits; 
   char p_cs_precedes; 
   char p_sep_by_space; 
   char n_cs_precedes; 
   char n_sep_by_space; 
   char n_sign_posn; 
   char lc[6]; 
}; 
</pre>

The fields are:<p>
<dl>
<b>Field/Description</b><br>
<dt>decimal_point 
<dd>The decimal point character for non-monetary usage. 
<dt>thousands_sep 
<dd>The separator in non-monetary usage to the left of the decimal point. 
<dt>int_curr_symbol 
<dd>The international currency symbol used in the locale. 
<dt>currency_symbol 
<dd>The local currency symbol. 
<dt>mon_decimal_point 
<dd>The decimal point character for monetary usage. 
<dt>mon_thousand_sep 
<dd>The separator in monetary usage to the left of the decimal point. 
<dt>negative_sign 
<dd>A string to indicate a negative monetary quantity. 
<dt>frac_digits 
<dd>The number of digits to display to the right of the decimal point for a monetary quantity. 
<dt>p_cs_precedes 
<dd>1 if currency_symbol is a prefix, 0 if currency_symbol is a suffix for positive monetary quantities. 
<dt>p_sep_by_space 
<dd>1 if currency_symbol is separated by a space from a positive monetary quantity, 0 if there is no space. 
<dt>n_cs_precedes 
<dd>1 if currency_symbol is a prefix, 0 if currency_symbol is a suffix for a negative monetary quantity. 
<dt>n_sep_by_space 
<dd>1 if currency_value is separated by a space from a negative monetary quantity, 0 if there is no space. 
<dt>n_sign_posn 
<dd>A value that indicates how to position negative_sign for a formatted monetary quantity. 
<dt>lc[6] 
<dd>The current state of the locale. LC_XXX forms the index of this array. Its values are from _LOCALE enumeration in locale.h. 
</dl>

<p>

<b>
Return Value
</b><p>
A pointer to a struct lconv. The values contained within the 
structure should be regarded as read only. 
<p>

<b>
Compatibility
</b><p>
DOS Windows 3.x Phar Lap DOSX Win32 
<p>

<b>
See Also
</b><p>
<a href="#setlocale">setlocale</a><br>
<p>

<b>
Example
</b><p><pre>
See setlocale
</pre>




<hr><!-- =========================================== -->

<a name="setlocale"><h2>setlocale</h2></a>

<font size=3><b>
Header
</b><p>
locale.h
<p>

<b>
Prototype
</b><p>
char * setlocale(int category, const char * locale); 
<p>

<b>
Description
</b><p>
setlocale changes locale-dependent behavior or checks on its 
current settings. category can be one of the following predefined 
constants. Digital Mars C++ supports the minimal ANSI C definition and 
therefore only the following constants have an effect.<p>
<dl>
<b>Constant/Description</b>
<dt>LC_ALL
<dd>Specifies the locale for all categories 
<dt>LC_COLLATE
<dd>Change the locale for the strcoll() and strxfrm() functions 
<dt>LC_CTYPE
<dd>Change the locale for the character-handling functions and the multi-byte functions. 
<dt>LC_MONETARY
<dd>Change the locale for monetary formatting. 
<dt>LC_NUMERIC
<dd>Change the locale for numeric formatting. 
<dt>LC_TIME
<dd>Change the locale for the strftime() function. 
</dl>
<p>
The following locales are recognized:<p> 
<dl>
<b>Locale/Description</b>
<dt>C
<dd>The minimal default locale. 
<dt>USA
<dd>Predefined in locale.h as the "native" locale. setlocale(LC_ALL,"") selects this. 
</dl>
<p>
It also recognizes Italy, Netherlands, Norway, 
Switzerland, UK, Japan, Korea, China. <p>

Information about the current locale can be obtained by calling 
setlocale with a NULL second argument. This will return the 
current locale for the category selected. Having set the locale, a call 
to localeconv will obtain a pointer to a filled in struct lconv 
with the specific locale values. See localeconv for details. 
<p>

<b>
Return Value
</b><p>
A pointer containing the currently selected locale for the category 
specified. A NULL is returned if the locale specified is not supported. 
<p>

<b>
Compatibility
</b><p>
DOS Windows 3.x Phar Lap DOSX Win32 
<p>

<b>
See Also
</b><p>
<a href="#localeconv">localeconv</a>
<p>

<b>
Example
</b><p><pre>
	/* 	Example for setlocale */ 

	#include &lt;locale.h&gt; 
	#include &lt;stdio.h&gt; 
	#include &lt;stdlib.h&gt;
	#include &lt;string.h&gt;

	char *countries[] =
	{ 
	   "USA",
	   "ITALY", 
           "NORWAY",
	    NULL 
	}; 

	void main ()
	{ 
	   char *loc,
	   *currency; 
	   int i; 
	   struct lconv *lcptr; 
	   int money = 100; /* Something to display */ 

	/* 
	   setlocale can be called with a NULL locale to 
	   check on its current setting 
	*/ 
	   loc = setlocale (LC_ALL, NULL); 
	   printf (" The default locale is the \"%s\" 
	             locale\n", loc); 

	   for (i = 0; countries[i]; i++) 
	   { 
	      loc = setlocale (LC_ALL, countries[i]); 
	      lcptr = localeconv (); 
	      currency = malloc 
		   (strlen (lcptr-&gt; currency_symbol) + 1); 
	      strcpy (currency, lcptr-&gt; currency_symbol); 
	      if (loc) 
	           printf (" Monetary figure for %s locale: 
                             %s%d\n", loc, currency, money); 
	      free(currency); 
	   } 
	} 
</pre>

<b>
Output
</b><p>
The default locale is the "C" locale<br>
Monetary figure for USA locale: 00<br> 
Monetary figure for Italy locale: L. 100<br> 
Monetary figure for Norway locale: kr100 


<br><br><br><br>

</td></table>




<div id="copyright">
Copyright &copy; 1997-2006 by Digital Mars, All Rights Reserved |
Page generated by <a href="http://www.digitalmars.com/d/ddoc.html">Ddoc</a>.
</div>

</body>
</html>

